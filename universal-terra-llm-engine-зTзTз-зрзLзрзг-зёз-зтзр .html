<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal TERRA - –ë–∞—Ä—á–∞ —É—á—É–Ω –∏–ª–º / –ù–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö / Science for All</title>
    
    <!-- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å -->
    <meta name="description" content="Universal TERRA Engine - –ò–ª–º –≤–∞ –±–∏–ª–∏–º –±–∞—Ä—á–∞–≥–∞ / –ù–∞—É–∫–∞ –∏ –∑–Ω–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö / Science and knowledge for everyone">
    <meta name="keywords" content="—Ç–µ—Ä—Ä–∞–ø–µ–¥–∏—è, –∏–ª–º, –Ω–∞—É–∫–∞, –±–æ–ª–∞–ª–∞—Ä, –º–∞–∫—Ç–∞–±, science, education, uzbek">
    
    <style>
        /* === –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò –î–õ–Ø –í–°–ï–• –£–°–¢–†–û–ô–°–¢–í –ò –õ–Æ–î–ï–ô === */
        :root {
            /* –†–∞–∑–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤ */
            --text-child: 18px;      /* 6-12 –ª–µ—Ç */
            --text-teen: 16px;       /* 13-17 –ª–µ—Ç */
            --text-adult: 14px;      /* 18+ –ª–µ—Ç */
            --text-senior: 20px;     /* 65+ –ª–µ—Ç */
            
            /* –¶–≤–µ—Ç–∞ —Å –≤—ã—Å–æ–∫–∏–º –∫–æ–Ω—Ç—Ä–∞—Å—Ç–æ–º */
            --color-primary: #0066CC;
            --color-secondary: #008800;
            --color-danger: #CC0000;
            --color-text: #000000;
            --color-bg: #FFFFFF;
            --color-light: #F0F8FF;
            
            /* –û—Ç—Å—Ç—É–ø—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
            --padding-mobile: 10px;
            --padding-tablet: 15px;
            --padding-desktop: 20px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Times New Roman', serif; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å */
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.8; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ª—É—á—à–µ–≥–æ —á—Ç–µ–Ω–∏—è */
            font-size: var(--text-adult);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* === –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û–î –í–û–ó–†–ê–°–¢ === */
        .age-child {
            font-size: var(--text-child) !important;
            line-height: 2.2 !important;
        }
        
        .age-teen {
            font-size: var(--text-teen) !important;
            line-height: 2.0 !important;
        }
        
        .age-adult {
            font-size: var(--text-adult) !important;
            line-height: 1.8 !important;
        }
        
        .age-senior {
            font-size: var(--text-senior) !important;
            line-height: 2.4 !important;
            font-weight: bold !important;
        }
        
        /* === –î–û–°–¢–£–ü–ù–û–°–¢–¨ –î–õ–Ø –ò–ù–í–ê–õ–ò–î–û–í === */
        
        /* Screen reader –ø–æ–¥–¥–µ—Ä–∂–∫–∞ */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* –í—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç */
        @media (prefers-contrast: high) {
            :root {
                --color-bg: #FFFFFF;
                --color-text: #000000;
                --color-primary: #0000FF;
            }
        }
        
        /* –£–º–µ–Ω—å—à–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation: none !important;
                transition: none !important;
            }
        }
        
        /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É –±—Ä–∞—É–∑–µ—Ä–∞ */
        @media (min-resolution: 144dpi) {
            body {
                font-size: calc(var(--text-adult) * 1.2);
            }
        }
        
        /* === –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† === */
        .terra-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--padding-mobile);
        }
        
        /* === –Ø–ó–´–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ === */
        .language-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--color-primary);
            color: white;
            padding: 10px;
            z-index: 1000;
            text-align: center;
            font-weight: bold;
        }
        
        .language-panel button {
            background: white;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
            padding: 8px 16px;
            margin: 0 5px;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .language-panel button:hover,
        .language-panel button:focus {
            background: var(--color-light);
            outline: 3px solid yellow;
        }
        
        .language-panel button.active {
            background: var(--color-secondary);
            color: white;
            border-color: var(--color-secondary);
        }
        
        /* === –ü–ê–ù–ï–õ–¨ –í–û–ó–†–ê–°–¢–ê –ò –î–û–°–¢–£–ü–ù–û–°–¢–ò === */
        .accessibility-panel {
            margin-top: 60px;
            background: var(--color-light);
            border: 3px solid var(--color-primary);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .accessibility-title {
            font-size: 22px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .accessibility-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .control-label {
            font-weight: bold;
            color: var(--color-text);
            text-align: center;
        }
        
        .control-button {
            padding: 12px 20px;
            border: 3px solid var(--color-primary);
            background: white;
            color: var(--color-primary);
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            min-width: 120px;
            text-align: center;
        }
        
        .control-button:hover,
        .control-button:focus {
            background: var(--color-primary);
            color: white;
            outline: 3px solid yellow;
        }
        
        .control-button.active {
            background: var(--color-secondary);
            color: white;
            border-color: var(--color-secondary);
        }
        
        /* === –ì–õ–ê–í–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–° === */
        .main-interface {
            background: white;
            border: 3px solid var(--color-primary);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .terra-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .terra-logo {
            font-size: 64px;
            margin-bottom: 15px;
        }
        
        .terra-title {
            font-size: 36px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 15px;
        }
        
        .terra-subtitle {
            font-size: 18px;
            color: var(--color-text);
            line-height: 1.6;
        }
        
        /* === –ü–û–õ–ï –í–í–û–î–ê –ü–†–û–°–¢–û–ï === */
        .query-section {
            margin-bottom: 30px;
        }
        
        .query-label {
            font-size: 20px;
            font-weight: bold;
            color: var(--color-text);
            margin-bottom: 15px;
            display: block;
        }
        
        .query-input {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            border: 3px solid var(--color-primary);
            border-radius: 10px;
            font-size: inherit;
            font-family: inherit;
            line-height: inherit;
            resize: vertical;
            background: white;
        }
        
        .query-input:focus {
            outline: 3px solid yellow;
            border-color: var(--color-secondary);
        }
        
        .query-input::placeholder {
            color: #666666;
            font-style: italic;
        }
        
        /* === –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô === */
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .main-button {
            padding: 20px 40px;
            border: none;
            border-radius: 12px;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            min-width: 250px;
            text-align: center;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background: var(--color-primary);
            color: white;
        }
        
        .btn-primary:hover,
        .btn-primary:focus {
            background: #004499;
            outline: 3px solid yellow;
            transform: scale(1.05);
        }
        
        .btn-secondary {
            background: var(--color-secondary);
            color: white;
        }
        
        .btn-secondary:hover,
            .btn-secondary:focus {
            background: #006600;
            outline: 3px solid yellow;
            transform: scale(1.05);
        }
        
        .btn-danger {
            background: var(--color-danger);
            color: white;
        }
        
        .btn-danger:hover,
        .btn-danger:focus {
            background: #990000;
            outline: 3px solid yellow;
            transform: scale(1.05);
        }
        
        .main-button:disabled {
            background: #CCCCCC;
            color: #666666;
            cursor: not-allowed;
            transform: none;
        }
        
        /* === –†–ï–ó–£–õ–¨–¢–ê–¢–´ –° –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ï–ô === */
        .results-container {
            background: white;
            border: 3px solid var(--color-secondary);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            display: none;
        }
        
        /* === –í–ò–ó–£–ê–õ–ò–ó–ê–¢–û–† –ó–ù–ê–ù–ò–ô === */
        .visualization-panel {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            border: 3px solid var(--color-primary);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .visualization-title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 25px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .viz-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .viz-button {
            padding: 12px 24px;
            border: 2px solid var(--color-primary);
            background: white;
            color: var(--color-primary);
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .viz-button:hover,
        .viz-button:focus {
            background: var(--color-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,102,204,0.3);
            outline: 3px solid yellow;
        }
        
        .viz-button.active {
            background: var(--color-secondary);
            border-color: var(--color-secondary);
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* === –ö–û–ù–¢–ï–ô–ù–ï–†–´ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò === */
        .viz-container {
            width: 100%;
            min-height: 400px;
            background: white;
            border: 2px solid var(--color-light);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .viz-canvas {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 10px;
        }
        
        .viz-svg {
            width: 100%;
            height: 400px;
            background: radial-gradient(circle, #f8f9ff 0%, #e3f2fd 100%);
            border-radius: 10px;
        }
        
        /* === –ú–ò–¶–ï–õ–ò–ô-–°–ï–¢–¨ === */
        .mycelium-network {
            position: relative;
            background: linear-gradient(45deg, #000011 0%, #001133 50%, #000022 100%);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .mycelium-node {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            animation: glow 3s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(255,255,255,0.2); }
            to { box-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 30px rgba(100,200,255,0.3); }
        }
        
        .mycelium-node:hover {
            transform: scale(1.2);
            z-index: 10;
        }
        
        .mycelium-connection {
            position: absolute;
            background: linear-gradient(90deg, rgba(100,200,255,0.6) 0%, rgba(255,255,255,0.8) 50%, rgba(100,200,255,0.6) 100%);
            border-radius: 2px;
            animation: flow 2s linear infinite;
        }
        
        @keyframes flow {
            0% { opacity: 0.3; }
            50% { opacity: 0.8; }
            100% { opacity: 0.3; }
        }
        
        /* === –í–†–ï–ú–ï–ù–ù–ê–Ø –°–ü–ò–†–ê–õ–¨ === */
        .time-spiral {
            position: relative;
            background: radial-gradient(circle, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .time-period {
            position: absolute;
            padding: 10px 15px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .time-period:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.6);
            transform: scale(1.1);
            z-index: 5;
        }
        
        .time-connection {
            position: absolute;
            border: 2px solid rgba(255,255,255,0.4);
            border-radius: 2px;
        }
        
        /* === –§–†–ê–ö–¢–ê–õ–¨–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´ === */
        .fractal-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .fractal-level {
            position: absolute;
            border: 2px solid rgba(255,255,255,0.6);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(3px);
            padding: 8px 12px;
            color: white;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .fractal-level:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
            z-index: 3;
        }
        
        /* === –ê–î–ê–ü–¢–ò–í–ù–´–ï –°–¢–ò–õ–ò –ü–û –í–û–ó–†–ê–°–¢–£ === */
        .age-child .viz-container {
            background: linear-gradient(45deg, #FFE0B2 0%, #FFCC80 100%);
            border-width: 4px;
            border-color: #FF9800;
        }
        
        .age-child .mycelium-node {
            font-size: 18px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #FFC107 0%, #FF9800 100%);
        }
        
        .age-teen .viz-container {
            background: linear-gradient(45deg, #E1BEE7 0%, #BA68C8 100%);
            border-color: #9C27B0;
        }
        
        .age-teen .mycelium-node {
            font-size: 16px;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #E91E63 0%, #9C27B0 100%);
        }
        
        .age-adult .mycelium-node {
            font-size: 14px;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #2196F3 0%, #1976D2 100%);
        }
        
        .age-senior .viz-container {
            background: linear-gradient(45deg, #C8E6C9 0%, #A5D6A7 100%);
            border-width: 5px;
            border-color: #4CAF50;
        }
        
        .age-senior .mycelium-node {
            font-size: 20px;
            width: 90px;
            height: 90px;
            background: radial-gradient(circle, #4CAF50 0%, #388E3C 100%);
        }
        
        /* === –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ === */
        .viz-tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .viz-tooltip.show {
            opacity: 1;
        }
        
        .loading-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
            font-size: 24px;
            font-weight: bold;
            color: var(--color-primary);
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--color-light);
            border-top: 5px solid var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* === –ó–í–£–ö–û–í–´–ï –ò–ù–î–ò–ö–ê–¢–û–†–´ === */
        .sound-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background: var(--color-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            cursor: pointer;
            animation: soundPulse 1.5s ease-in-out infinite;
        }
        
        @keyframes soundPulse {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        
        /* === –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø –í–ò–ó–£–ê–õ–ò–ó–ê–¢–û–†–ê === */
        @media (max-width: 768px) {
            .visualization-panel {
                padding: 20px 15px;
                margin: 15px 0;
            }
            
            .viz-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .viz-button {
                width: 100%;
                max-width: 250px;
                margin: 5px 0;
            }
            
            .viz-canvas,
            .viz-svg {
                height: 300px;
            }
            
            .mycelium-node {
                font-size: 12px !important;
                width: 50px !important;
                height: 50px !important;
            }
        }
        
        @media (max-width: 480px) {
            .viz-canvas,
            .viz-svg {
                height: 250px;
            }
            
            .mycelium-node {
                font-size: 10px !important;
                width: 40px !important;
                height: 40px !important;
            }
            
            .time-period,
            .fractal-level {
                font-size: 12px;
                padding: 6px 10px;
            }
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--color-light);
        }
        
        .results-title {
            font-size: 28px;
            font-weight: bold;
            color: var(--color-secondary);
            margin-bottom: 15px;
        }
        
        .results-content {
            font-size: inherit;
            line-height: inherit;
            color: var(--color-text);
        }
        
        .answer-simple {
            background: var(--color-light);
            border: 2px solid var(--color-primary);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .answer-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 10px;
        }
        
        .answer-text {
            font-size: inherit;
            line-height: inherit;
            color: var(--color-text);
        }
        
        /* === –ì–û–õ–û–°–û–í–´–ï –§–£–ù–ö–¶–ò–ò === */
        .voice-controls {
            background: #FFE4B5;
            border: 3px solid #FF8C00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .voice-title {
            font-size: 20px;
            font-weight: bold;
            color: #FF8C00;
            margin-bottom: 15px;
        }
        
        .voice-button {
            background: #FF8C00;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 5px;
        }
        
        .voice-button:hover,
        .voice-button:focus {
            background: #FF7F00;
            outline: 3px solid yellow;
        }
        
        .voice-status {
            margin-top: 15px;
            font-weight: bold;
            color: #FF8C00;
        }
        
        /* === –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø === */
        @media (max-width: 768px) {
            .terra-container {
                padding: var(--padding-mobile);
            }
            
            .accessibility-controls {
                flex-direction: column;
            }
            
            .terra-title {
                font-size: 28px;
            }
            
            .terra-subtitle {
                font-size: 16px;
            }
            
            .main-button {
                min-width: 200px;
                font-size: 18px;
                padding: 15px 30px;
            }
            
            .language-panel {
                font-size: 14px;
            }
            
            .language-panel button {
                font-size: 14px;
                padding: 6px 12px;
            }
        }
        
        @media (max-width: 480px) {
            .terra-logo {
                font-size: 48px;
            }
            
            .terra-title {
                font-size: 24px;
            }
            
            .main-button {
                width: 100%;
                min-width: unset;
            }
            
            .accessibility-controls {
                gap: 10px;
            }
            
            .control-button {
                min-width: 100px;
                font-size: 14px;
                padding: 10px 15px;
            }
        }
        
        /* === –°–¢–ê–†–´–ï –ë–†–ê–£–ó–ï–†–´ === */
        .no-js-fallback {
            background: #FFEB3B;
            border: 3px solid #FF9800;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
        }
        
        .fallback-title {
            font-size: 20px;
            font-weight: bold;
            color: #E65100;
            margin-bottom: 10px;
        }
        
        /* === –ü–†–ò–ù–¢ –í–ï–†–°–ò–Ø === */
        @media print {
            .language-panel,
            .accessibility-panel,
            .voice-controls,
            .action-buttons {
                display: none !important;
            }
            
            .main-interface,
            .results-container {
                border: 2px solid black;
                box-shadow: none;
            }
            
            body {
                font-size: 12pt;
                line-height: 1.4;
                color: black;
                background: white;
            }
        }
    </style>
</head>
<body>
    <!-- ARIA landmarks –¥–ª—è screen readers -->
    <div role="banner">
        <!-- –Ø–∑—ã–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <nav class="language-panel" role="navigation" aria-label="Language selection">
            <span id="langTitle">–¢–∏–ª–Ω–∏ —Ç–∞–Ω–ª–∞–Ω–≥ / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Choose language:</span>
            <button onclick="setLanguage('uz')" id="btnUzbek" class="active" 
                    aria-label="O'zbek tilida davom etish">
                üá∫üáø –é–∑–±–µ–∫
            </button>
            <button onclick="setLanguage('ru')" id="btnRussian" 
                    aria-label="–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ">
                üá∑üá∫ –†—É—Å—Å–∫–∏–π
            </button>
            <button onclick="setLanguage('en')" id="btnEnglish" 
                    aria-label="Continue in English">
                üá∫üá∏ English
            </button>
        </nav>
    </div>

    <main class="terra-container" role="main">
        <!-- –ü–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ -->
        <section class="accessibility-panel" role="region" aria-labelledby="accessibilityTitle">
            <h2 class="accessibility-title" id="accessibilityTitle">
                <span data-uz="Qulayliklar / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ / Accessibility Options"></span>
            </h2>
            
            <div class="accessibility-controls">
                <div class="control-group">
                    <label class="control-label" for="ageSelect">
                        <span data-uz="–Å—à / –í–æ–∑—Ä–∞—Å—Ç / Age"></span>
                    </label>
                    <select id="ageSelect" class="control-button" onchange="setAge(this.value)"
                            aria-describedby="ageHelp">
                        <option value="child" data-uz="6-12 —ë—à">6-12 –ª–µ—Ç / 6-12 years</option>
                        <option value="teen" data-uz="13-17 —ë—à">13-17 –ª–µ—Ç / 13-17 years</option>
                        <option value="adult" selected data-uz="18+ —ë—à">18+ –ª–µ—Ç / 18+ years</option>
                        <option value="senior" data-uz="65+ —ë—à">65+ –ª–µ—Ç / 65+ years</option>
                    </select>
                    <div id="ageHelp" class="sr-only">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—É—é –≥—Ä—É–ø–ø—É –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
                </div>
                
                <div class="control-group">
                    <span class="control-label">
                        <span data-uz="–û–≤–æ–∑ / –ì–æ–ª–æ—Å / Voice"></span>
                    </span>
                    <button class="control-button" onclick="toggleVoice()" id="voiceToggle"
                            aria-pressed="false" aria-describedby="voiceHelp">
                        <span data-uz="–Å“õ–∏–ª–≥–∞–Ω / –í–∫–ª—é—á–∏—Ç—å / Enable"></span>
                    </button>
                    <div id="voiceHelp" class="sr-only">–í–∫–ª—é—á–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ</div>
                </div>
                
                <div class="control-group">
                    <span class="control-label">
                        <span data-uz="–Å—Ä–¥–∞–º / –ü–æ–º–æ—â—å / Help"></span>
                    </span>
                    <button class="control-button" onclick="showHelp()"
                            aria-describedby="helpInfo">
                        <span data-uz="–ö—û—Ä—Å–∞—Ç–∏—à / –ü–æ–∫–∞–∑–∞—Ç—å / Show"></span>
                    </button>
                    <div id="helpInfo" class="sr-only">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</div>
                </div>
            </div>
        </section>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <section class="main-interface" role="region" aria-labelledby="mainTitle">
            <header class="terra-header">
                <div class="terra-logo" role="img" aria-label="Universal TERRA logo">üß¨üåçüìö</div>
                <h1 class="terra-title" id="mainTitle">
                    <span data-uz="Universal TERRA">Universal TERRA</span>
                </h1>
                <p class="terra-subtitle">
                    <span data-uz="–ë–∞—Ä—á–∞–≥–∞ –±–∏–ª–∏–º –≤–∞ –∏–ª–º / –ó–Ω–∞–Ω–∏—è –∏ –Ω–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö / Knowledge and science for everyone"></span>
                </p>
            </header>

            <!-- –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
            <div class="voice-controls" id="voiceSection" style="display: none;" role="region" aria-labelledby="voiceTitle">
                <h3 class="voice-title" id="voiceTitle">
                    <span data-uz="–û–≤–æ–∑ –±–∏–ª–∞–Ω –∏—à–ª–∞—à / –ì–æ–ª–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ / Voice Control"></span>
                </h3>
                <button class="voice-button" onclick="startListening()" id="listenBtn"
                        aria-describedby="listenHelp">
                    üé§ <span data-uz="–ì–∞–ø–∏—Ä–∏—à / –ì–æ–≤–æ—Ä–∏—Ç—å / Speak"></span>
                </button>
                <button class="voice-button" onclick="readAloud()" id="readBtn"
                        aria-describedby="readHelp">
                    üîä <span data-uz="–é“õ–∏—à / –ü—Ä–æ—á–∏—Ç–∞—Ç—å / Read"></span>
                </button>
                <div id="listenHelp" class="sr-only">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞</div>
                <div id="readHelp" class="sr-only">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞</div>
                <div class="voice-status" id="voiceStatus" role="status" aria-live="polite"></div>
            </div>

            <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
            <div class="query-section">
                <label class="query-label" for="questionInput">
                    <span data-uz="–°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥ / –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å / Write your question:"></span>
                </label>
                <textarea 
                    id="questionInput" 
                    class="query-input"
                    placeholder=""
                    rows="6"
                    aria-describedby="inputHelp"
                ></textarea>
                <div id="inputHelp" class="sr-only">
                    –í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –Ω–∞ —É–∑–±–µ–∫—Å–∫–æ–º, —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ. 
                    –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –≤–∞—à–µ–º—É —É—Ä–æ–≤–Ω—é –∑–Ω–∞–Ω–∏–π.
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="action-buttons">
                <button class="main-button btn-primary" onclick="askQuestion()" id="askBtn"
                        aria-describedby="askHelp">
                    üß† <span data-uz="–°–∞–≤–æ–ª–≥–∞ –∂–∞–≤–æ–± –æ–ª–∏—à / –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç / Get Answer"></span>
                </button>
                <div id="askHelp" class="sr-only">–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫ –≤–∞—à–µ–º—É –≤–æ–∑—Ä–∞—Å—Ç—É –∏ —É—Ä–æ–≤–Ω—é –∑–Ω–∞–Ω–∏–π</div>
                
                <button class="main-button btn-secondary" onclick="clearAll()" id="clearBtn">
                    üóëÔ∏è <span data-uz="–¢–æ–∑–∞–ª–∞—à / –û—á–∏—Å—Ç–∏—Ç—å / Clear"></span>
                </button>
                
                <button class="main-button btn-danger" onclick="emergencyHelp()" id="emergencyBtn"
                        aria-describedby="emergencyHelp">
                    üö® <span data-uz="–®–æ—à–∏–ª–∏–Ω—á —ë—Ä–¥–∞–º / –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å / Emergency Help"></span>
                </button>
                <div id="emergencyHelp" class="sr-only">–ü–æ–ª—É—á–∏—Ç—å —ç–∫—Å—Ç—Ä–µ–Ω–Ω—É—é –ø–æ–º–æ—â—å –∏–ª–∏ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</div>
            </div>
        </section>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π -->
        <section class="results-container" id="resultsSection" role="region" aria-labelledby="resultsTitle" aria-live="polite">
            <div class="results-header">
                <h2 class="results-title" id="resultsTitle">
                    <span data-uz="–ñ–∞–≤–æ–± / –û—Ç–≤–µ—Ç / Answer"></span>
                </h2>
            </div>
            <div class="results-content" id="resultsContent">
                <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
            <div class="visualization-panel" id="visualizationPanel" style="display: none;" role="region" aria-labelledby="vizTitle">
                <div class="sound-indicator" onclick="toggleVizSound()" title="–ó–≤—É–∫–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏">
                    üîä
                </div>
                
                <h3 class="visualization-title" id="vizTitle">
                    <span data-uz="–ë–∏–ª–∏–º–ª–∞—Ä –º–∏—Ü–µ–ª–∏–π—Å–∏ / –ú–∏—Ü–µ–ª–∏–π –∑–Ω–∞–Ω–∏–π / Knowledge Mycelium"></span>
                </h3>
                
                <div class="viz-controls">
                    <button class="viz-button active" onclick="showMyceliumNetwork()" id="btnMycelium"
                            aria-describedby="myceliumHelp">
                        üåê <span data-uz="–ë–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä / –°–≤—è–∑–∏ / Connections"></span>
                    </button>
                    <button class="viz-button" onclick="showTimeSpiral()" id="btnTimeSpiral"
                            aria-describedby="spiralHelp">
                        üåÄ <span data-uz="–í–∞“õ—Ç —Å–ø–∏—Ä–∞–ª–∏ / –°–ø–∏—Ä–∞–ª—å –≤—Ä–µ–º–µ–Ω–∏ / Time Spiral"></span>
                    </button>
                    <button class="viz-button" onclick="showFractalLevels()" id="btnFractal"
                            aria-describedby="fractalHelp">
                        üìê <span data-uz="–§—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä–∞–∂–∞–ª–∞—Ä–∏ / –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ / Fractal Levels"></span>
                    </button>
                    <button class="viz-button" onclick="showHistoricalLayers()" id="btnHistory"
                            aria-describedby="historyHelp">
                        üìö <span data-uz="–¢–∞—Ä–∏—Ö “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏ / –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ / Historical Layers"></span>
                    </button>
                </div>
                
                <div id="myceliumHelp" class="sr-only">–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Ç—å —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –æ–±–ª–∞—Å—Ç—è–º–∏ –∑–Ω–∞–Ω–∏–π</div>
                <div id="spiralHelp" class="sr-only">–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–ø–∏—Ä–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å —Ä–∞–∑–≤–∏—Ç–∏—è –∑–Ω–∞–Ω–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏</div>
                <div id="fractalHelp" class="sr-only">–í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –æ—Ç –º–∏–∫—Ä–æ –∫ –º–∞–∫—Ä–æ</div>
                <div id="historyHelp" class="sr-only">–ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–∞—É–∫–∏</div>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
                <div class="viz-container" id="vizContainer">
                    <div class="loading-indicator" id="loadingViz">
                        <div class="loading-spinner"></div>
                        <span data-uz="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —è—Å–∞–ª–º–æ“õ–¥–∞... / –°–æ–∑–¥–∞—ë—Ç—Å—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è... / Creating visualization..."></span>
                    </div>
                </div>
                
                <!-- –¢—É–ª—Ç–∏–ø –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
                <div class="viz-tooltip" id="vizTooltip" role="tooltip"></div>
            </div>
        </section>

        <!-- Fallback –¥–ª—è JavaScript -->
        <noscript>
            <div class="no-js-fallback">
                <div class="fallback-title">
                    JavaScript –∏—à–ª–∞–º–∞—è–ø—Ç–∏ / JavaScript –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç / JavaScript is disabled
                </div>
                <p>
                    –ò–ª—Ç–∏–º–æ—Å, –±—Ä–∞—É–∑–µ—Ä–∏–Ω–≥–∏–∑–¥–∞ JavaScript-–Ω–∏ —ë“õ–∏–Ω–≥ —ë–∫–∏ –±–æ—à“õ–∞ –±—Ä–∞—É–∑–µ—Ä–¥–∞–Ω —Ñ–æ–π–¥–∞–ª–∞–Ω–∏–Ω–≥.<br>
                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ JavaScript –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä.<br>
                    Please enable JavaScript in your browser or use a different browser.
                </p>
            </div>
        </noscript>
    </main>

    <!-- –°–∫—Ä–∏–ø—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π -->
    <script>
        // === UNIVERSAL TERRA ENGINE - –ü–†–û–°–¢–ê–Ø –í–ï–†–°–ò–Ø –î–õ–Ø –í–°–ï–• ===
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        let currentLanguage = 'uz';
        let currentAge = 'adult';
        let voiceEnabled = false;
        let isListening = false;
        
        // –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ç—Ä—ë—Ö —è–∑—ã–∫–æ–≤
        const translations = {
            uz: {
                'Qulayliklar / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ / Accessibility Options': '“ö—É–ª–∞–π–ª–∏–∫–ª–∞—Ä',
                '–Å—à / –í–æ–∑—Ä–∞—Å—Ç / Age': '–Å—à',
                '6-12 —ë—à': '6-12 —ë—à',
                '13-17 —ë—à': '13-17 —ë—à', 
                '18+ —ë—à': '18+ —ë—à',
                '65+ —ë—à': '65+ —ë—à',
                '–û–≤–æ–∑ / –ì–æ–ª–æ—Å / Voice': '–û–≤–æ–∑',
                '–Å“õ–∏–ª–≥–∞–Ω / –í–∫–ª—é—á–∏—Ç—å / Enable': '–Å“õ–∏—à',
                '–Å—Ä–¥–∞–º / –ü–æ–º–æ—â—å / Help': '–Å—Ä–¥–∞–º',
                '–ö—û—Ä—Å–∞—Ç–∏—à / –ü–æ–∫–∞–∑–∞—Ç—å / Show': '–ö—û—Ä—Å–∞—Ç–∏—à',
                'Universal TERRA': 'Universal TERRA',
                '–ë–∞—Ä—á–∞–≥–∞ –±–∏–ª–∏–º –≤–∞ –∏–ª–º / –ó–Ω–∞–Ω–∏—è –∏ –Ω–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö / Knowledge and science for everyone': '–ë–∞—Ä—á–∞–≥–∞ –±–∏–ª–∏–º –≤–∞ –∏–ª–º',
                '–û–≤–æ–∑ –±–∏–ª–∞–Ω –∏—à–ª–∞—à / –ì–æ–ª–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ / Voice Control': '–û–≤–æ–∑ –±–∏–ª–∞–Ω –∏—à–ª–∞—à',
                '–ì–∞–ø–∏—Ä–∏—à / –ì–æ–≤–æ—Ä–∏—Ç—å / Speak': '–ì–∞–ø–∏—Ä–∏—à',
                '–é“õ–∏—à / –ü—Ä–æ—á–∏—Ç–∞—Ç—å / Read': '–é“õ–∏—à',
                '–°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥ / –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å / Write your question:': '–°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥:',
                '–°–∞–≤–æ–ª–≥–∞ –∂–∞–≤–æ–± –æ–ª–∏—à / –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç / Get Answer': '–ñ–∞–≤–æ–± –æ–ª–∏—à',
                '–¢–æ–∑–∞–ª–∞—à / –û—á–∏—Å—Ç–∏—Ç—å / Clear': '–¢–æ–∑–∞–ª–∞—à',
                '–®–æ—à–∏–ª–∏–Ω—á —ë—Ä–¥–∞–º / –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å / Emergency Help': '–®–æ—à–∏–ª–∏–Ω—á —ë—Ä–¥–∞–º',
                '–ñ–∞–≤–æ–± / –û—Ç–≤–µ—Ç / Answer': '–ñ–∞–≤–æ–±',
                '–ë–∏–ª–∏–º–ª–∞—Ä –º–∏—Ü–µ–ª–∏–π—Å–∏ / –ú–∏—Ü–µ–ª–∏–π –∑–Ω–∞–Ω–∏–π / Knowledge Mycelium': '–ë–∏–ª–∏–º–ª–∞—Ä –º–∏—Ü–µ–ª–∏–π—Å–∏',
                '–ë–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä / –°–≤—è–∑–∏ / Connections': '–ë–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä',
                '–í–∞“õ—Ç —Å–ø–∏—Ä–∞–ª–∏ / –°–ø–∏—Ä–∞–ª—å –≤—Ä–µ–º–µ–Ω–∏ / Time Spiral': '–í–∞“õ—Ç —Å–ø–∏—Ä–∞–ª–∏',
                '–§—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä–∞–∂–∞–ª–∞—Ä–∏ / –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ / Fractal Levels': '–§—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä–∞–∂–∞–ª–∞—Ä–∏',
                '–¢–∞—Ä–∏—Ö “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏ / –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ / Historical Layers': '–¢–∞—Ä–∏—Ö “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏',
                placeholder: '–ò—Å—Ç–∞–ª–≥–∞–Ω —Å–∞–≤–æ–ª —ë–∑–∏–Ω–≥. –ú–∞—Å–∞–ª–∞–Ω: "–û—Å–º–æ–Ω –Ω–µ–≥–∞ –∫—û–∫?" —ë–∫–∏ "“ö–∞–Ω–¥–∞–π “õ–∏–ª–∏–± —Ç–µ–∑ —û—Ä–≥–∞–Ω–∏—à –º—É–º–∫–∏–Ω?"'
            },
            ru: {
                'Qulayliklar / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ / Accessibility Options': '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏',
                '–Å—à / –í–æ–∑—Ä–∞—Å—Ç / Age': '–í–æ–∑—Ä–∞—Å—Ç',
                '6-12 —ë—à': '6-12 –ª–µ—Ç',
                '13-17 —ë—à': '13-17 –ª–µ—Ç',
                '18+ —ë—à': '18+ –ª–µ—Ç', 
                '65+ —ë—à': '65+ –ª–µ—Ç',
                '–û–≤–æ–∑ / –ì–æ–ª–æ—Å / Voice': '–ì–æ–ª–æ—Å',
                '–Å“õ–∏–ª–≥–∞–Ω / –í–∫–ª—é—á–∏—Ç—å / Enable': '–í–∫–ª—é—á–∏—Ç—å',
                '–Å—Ä–¥–∞–º / –ü–æ–º–æ—â—å / Help': '–ü–æ–º–æ—â—å',
                '–ö—û—Ä—Å–∞—Ç–∏—à / –ü–æ–∫–∞–∑–∞—Ç—å / Show': '–ü–æ–∫–∞–∑–∞—Ç—å',
                'Universal TERRA': 'Universal TERRA',
                '–ë–∞—Ä—á–∞–≥–∞ –±–∏–ª–∏–º –≤–∞ –∏–ª–º / –ó–Ω–∞–Ω–∏—è –∏ –Ω–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö / Knowledge and science for everyone': '–ó–Ω–∞–Ω–∏—è –∏ –Ω–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö',
                '–û–≤–æ–∑ –±–∏–ª–∞–Ω –∏—à–ª–∞—à / –ì–æ–ª–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ / Voice Control': '–ì–æ–ª–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞',
                '–ì–∞–ø–∏—Ä–∏—à / –ì–æ–≤–æ—Ä–∏—Ç—å / Speak': '–ì–æ–≤–æ—Ä–∏—Ç—å',
                '–é“õ–∏—à / –ü—Ä–æ—á–∏—Ç–∞—Ç—å / Read': '–ü—Ä–æ—á–∏—Ç–∞—Ç—å',
                '–°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥ / –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å / Write your question:': '–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å:',
                '–°–∞–≤–æ–ª–≥–∞ –∂–∞–≤–æ–± –æ–ª–∏—à / –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç / Get Answer': '–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç',
                '–¢–æ–∑–∞–ª–∞—à / –û—á–∏—Å—Ç–∏—Ç—å / Clear': '–û—á–∏—Å—Ç–∏—Ç—å',
                '–®–æ—à–∏–ª–∏–Ω—á —ë—Ä–¥–∞–º / –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å / Emergency Help': '–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å',
                '–ñ–∞–≤–æ–± / –û—Ç–≤–µ—Ç / Answer': '–û—Ç–≤–µ—Ç',
                '–ë–∏–ª–∏–º–ª–∞—Ä –º–∏—Ü–µ–ª–∏–π—Å–∏ / –ú–∏—Ü–µ–ª–∏–π –∑–Ω–∞–Ω–∏–π / Knowledge Mycelium': '–ú–∏—Ü–µ–ª–∏–π –∑–Ω–∞–Ω–∏–π',
                '–ë–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä / –°–≤—è–∑–∏ / Connections': '–°–≤—è–∑–∏',
                '–í–∞“õ—Ç —Å–ø–∏—Ä–∞–ª–∏ / –°–ø–∏—Ä–∞–ª—å –≤—Ä–µ–º–µ–Ω–∏ / Time Spiral': '–°–ø–∏—Ä–∞–ª—å –≤—Ä–µ–º–µ–Ω–∏',
                '–§—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä–∞–∂–∞–ª–∞—Ä–∏ / –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ / Fractal Levels': '–§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏',
                '–¢–∞—Ä–∏—Ö “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏ / –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ / Historical Layers': '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏',
                placeholder: '–ù–∞–ø–∏—à–∏—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å. –ù–∞–ø—Ä–∏–º–µ—Ä: "–ü–æ—á–µ–º—É –Ω–µ–±–æ —Å–∏–Ω–µ–µ?" –∏–ª–∏ "–ö–∞–∫ –±—ã—Å—Ç—Ä–æ —É—á–∏—Ç—å—Å—è?"'
            },
            en: {
                'Qulayliklar / –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ / Accessibility Options': 'Accessibility Options',
                '–Å—à / –í–æ–∑—Ä–∞—Å—Ç / Age': 'Age',
                '6-12 —ë—à': '6-12 years',
                '13-17 —ë—à': '13-17 years',
                '18+ —ë—à': '18+ years',
                '65+ —ë—à': '65+ years',
                '–û–≤–æ–∑ / –ì–æ–ª–æ—Å / Voice': 'Voice',
                '–Å“õ–∏–ª–≥–∞–Ω / –í–∫–ª—é—á–∏—Ç—å / Enable': 'Enable',
                '–Å—Ä–¥–∞–º / –ü–æ–º–æ—â—å / Help': 'Help',
                '–ö—û—Ä—Å–∞—Ç–∏—à / –ü–æ–∫–∞–∑–∞—Ç—å / Show': 'Show',
                'Universal TERRA': 'Universal TERRA',
                '–ë–∞—Ä—á–∞–≥–∞ –±–∏–ª–∏–º –≤–∞ –∏–ª–º / –ó–Ω–∞–Ω–∏—è –∏ –Ω–∞—É–∫–∞ –¥–ª—è –≤—Å–µ—Ö / Knowledge and science for everyone': 'Knowledge and science for everyone',
                '–û–≤–æ–∑ –±–∏–ª–∞–Ω –∏—à–ª–∞—à / –ì–æ–ª–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ / Voice Control': 'Voice Control',
                '–ì–∞–ø–∏—Ä–∏—à / –ì–æ–≤–æ—Ä–∏—Ç—å / Speak': 'Speak',
                '–é“õ–∏—à / –ü—Ä–æ—á–∏—Ç–∞—Ç—å / Read': 'Read',
                '–°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥ / –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å / Write your question:': 'Write your question:',
                '–°–∞–≤–æ–ª–≥–∞ –∂–∞–≤–æ–± –æ–ª–∏—à / –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç / Get Answer': 'Get Answer',
                '–¢–æ–∑–∞–ª–∞—à / –û—á–∏—Å—Ç–∏—Ç—å / Clear': 'Clear',
                '–®–æ—à–∏–ª–∏–Ω—á —ë—Ä–¥–∞–º / –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å / Emergency Help': 'Emergency Help',
                '–ñ–∞–≤–æ–± / –û—Ç–≤–µ—Ç / Answer': 'Answer',
                '–ë–∏–ª–∏–º–ª–∞—Ä –º–∏—Ü–µ–ª–∏–π—Å–∏ / –ú–∏—Ü–µ–ª–∏–π –∑–Ω–∞–Ω–∏–π / Knowledge Mycelium': 'Knowledge Mycelium',
                '–ë–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä / –°–≤—è–∑–∏ / Connections': 'Connections',
                '–í–∞“õ—Ç —Å–ø–∏—Ä–∞–ª–∏ / –°–ø–∏—Ä–∞–ª—å –≤—Ä–µ–º–µ–Ω–∏ / Time Spiral': 'Time Spiral',
                '–§—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä–∞–∂–∞–ª–∞—Ä–∏ / –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ / Fractal Levels': 'Fractal Levels',
                '–¢–∞—Ä–∏—Ö “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏ / –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ / Historical Layers': 'Historical Layers',
                placeholder: 'Write any question. For example: "Why is the sky blue?" or "How to learn fast?"'
            }
        };
        
        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üß¨ Universal TERRA Engine –∑–∞–ø—É—â–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');
            updateInterface();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±—Ä–∞—É–∑–µ—Ä–∞
            if ('speechSynthesis' in window) {
                console.log('‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞');
            }
            
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                console.log('‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞');
            }
            
            // –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
            console.log('–¢–µ–∫—É—â–∏–π —è–∑—ã–∫:', currentLanguage);
            console.log('–í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞:', currentAge);
        });
        
        // === –°–ú–ï–ù–ê –Ø–ó–´–ö–ê ===
        function setLanguage(lang) {
            currentLanguage = lang;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.language-panel button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (lang === 'uz') {
                document.getElementById('btnUzbek').classList.add('active');
                document.documentElement.lang = 'uz';
            } else if (lang === 'ru') {
                document.getElementById('btnRussian').classList.add('active'); 
                document.documentElement.lang = 'ru';
            } else if (lang === 'en') {
                document.getElementById('btnEnglish').classList.add('active');
                document.documentElement.lang = 'en';
            }
            
            updateInterface();
            
            // –ì–æ–ª–æ—Å–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            if (voiceEnabled) {
                let message = lang === 'uz' ? '–¢–∏–ª —û–∑–≥–∞—Ä–¥–∏' : 
                             lang === 'ru' ? '–Ø–∑—ã–∫ –∏–∑–º–µ–Ω—ë–Ω' : 'Language changed';
                speak(message);
            }
        }
        
        // === –°–ú–ï–ù–ê –í–û–ó–†–ê–°–¢–ê ===
        function setAge(age) {
            currentAge = age;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ body –¥–ª—è —Å—Ç–∏–ª–µ–π
            document.body.className = 'age-' + age;
            
            console.log('–í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞:', age);
            
            // –ì–æ–ª–æ—Å–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            if (voiceEnabled) {
                let message = currentLanguage === 'uz' ? '–Å—à –≥—É—Ä—É“≥–∏ —û–∑–≥–∞—Ä–¥–∏' :
                             currentLanguage === 'ru' ? '–í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞ –∏–∑–º–µ–Ω–µ–Ω–∞' : 'Age group changed';
                speak(message);
            }
        }
        
        // === –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ===
        function updateInterface() {
            const currentTrans = translations[currentLanguage];
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å data-uz
            document.querySelectorAll('[data-uz]').forEach(element => {
                const key = element.getAttribute('data-uz');
                if (currentTrans[key]) {
                    element.textContent = currentTrans[key];
                }
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ placeholder
            const input = document.getElementById('questionInput');
            if (input && currentTrans.placeholder) {
                input.placeholder = currentTrans.placeholder;
            }
        }
        
        // === –ì–û–õ–û–°–û–í–´–ï –§–£–ù–ö–¶–ò–ò ===
        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const voiceSection = document.getElementById('voiceSection');
            const voiceToggle = document.getElementById('voiceToggle');
            
            if (voiceEnabled) {
                voiceSection.style.display = 'block';
                voiceToggle.querySelector('span').textContent = currentLanguage === 'uz' ? '–Å“õ–∏–ª–¥–∏' :
                                                              currentLanguage === 'ru' ? '–í–∫–ª—é—á–µ–Ω–æ' : 'Enabled';
                voiceToggle.classList.add('active');
                voiceToggle.setAttribute('aria-pressed', 'true');
                
                // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                let welcomeMessage = currentLanguage === 'uz' ? '–û–≤–æ–∑–ª–∏ —ë—Ä–¥–∞–º –∏—à–≥–∞ —Ç—É—à–¥–∏' :
                                   currentLanguage === 'ru' ? '–ì–æ–ª–æ—Å–æ–≤–∞—è –ø–æ–º–æ—â—å –≤–∫–ª—é—á–µ–Ω–∞' : 'Voice assistance enabled';
                speak(welcomeMessage);
            } else {
                voiceSection.style.display = 'none';
                voiceToggle.querySelector('span').textContent = currentLanguage === 'uz' ? '–Å“õ–∏—à' :
                                                              currentLanguage === 'ru' ? '–í–∫–ª—é—á–∏—Ç—å' : 'Enable';
                voiceToggle.classList.remove('active');
                voiceToggle.setAttribute('aria-pressed', 'false');
            }
        }
        
        function speak(text) {
            if (!voiceEnabled || !('speechSynthesis' in window)) return;
            
            // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è
            speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = currentLanguage === 'uz' ? 'uz-UZ' : 
                           currentLanguage === 'ru' ? 'ru-RU' : 'en-US';
            utterance.rate = currentAge === 'child' ? 0.8 : currentAge === 'senior' ? 0.7 : 1.0;
            utterance.pitch = currentAge === 'child' ? 1.2 : 1.0;
            
            speechSynthesis.speak(utterance);
        }
        
        function startListening() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert(currentLanguage === 'uz' ? '–û–≤–æ–∑–Ω–∏ —Ç–∞–Ω–∏–º–∞—Å–ª–∏–∫ –∏—à–ª–∞–º–∞–π–¥–∏' :
                      currentLanguage === 'ru' ? '–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è' : 'Speech recognition not supported');
                return;
            }
            
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            
            recognition.lang = currentLanguage === 'uz' ? 'uz-UZ' : 
                              currentLanguage === 'ru' ? 'ru-RU' : 'en-US';
            recognition.continuous = false;
            recognition.interimResults = false;
            
            const statusDiv = document.getElementById('voiceStatus');
            const listenBtn = document.getElementById('listenBtn');
            
            recognition.onstart = function() {
                isListening = true;
                listenBtn.style.background = '#FF0000';
                statusDiv.textContent = currentLanguage === 'uz' ? '–¢–∏–Ω–≥–ª–∞—è–ø–º–∞–Ω...' :
                                       currentLanguage === 'ru' ? '–°–ª—É—à–∞—é...' : 'Listening...';
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                document.getElementById('questionInput').value = transcript;
                
                statusDiv.textContent = currentLanguage === 'uz' ? '–¢—É—à—É–Ω–¥–∏–º!' :
                                       currentLanguage === 'ru' ? '–ü–æ–Ω—è–ª!' : 'Got it!';
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç
                setTimeout(() => {
                    askQuestion();
                }, 1000);
            };
            
            recognition.onerror = function(event) {
                statusDiv.textContent = currentLanguage === 'uz' ? '–•–∞—Ç–æ–ª–∏–∫ —é–∑ –±–µ—Ä–¥–∏' :
                                       currentLanguage === 'ru' ? '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞' : 'Error occurred';
                console.error('Speech recognition error:', event.error);
            };
            
            recognition.onend = function() {
                isListening = false;
                listenBtn.style.background = '#FF8C00';
            };
            
            recognition.start();
        }
        
        function readAloud() {
            const resultsContent = document.getElementById('resultsContent');
            if (resultsContent && resultsContent.textContent.trim()) {
                speak(resultsContent.textContent);
            } else {
                let message = currentLanguage === 'uz' ? '–é“õ–∏—à —É—á—É–Ω –∂–∞–≤–æ–± –π—û“õ' :
                             currentLanguage === 'ru' ? '–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è' : 'No answer to read';
                speak(message);
            }
        }
        
        // === –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø - –ü–û–õ–£–ß–ï–ù–ò–ï –û–¢–í–ï–¢–ê ===
        function askQuestion() {
            const questionInput = document.getElementById('questionInput');
            const question = questionInput.value.trim();
            
            if (!question) {
                let message = currentLanguage === 'uz' ? '–ò–ª—Ç–∏–º–æ—Å, —Å–∞–≤–æ–ª —ë–∑–∏–Ω–≥' :
                             currentLanguage === 'ru' ? '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å' : 'Please write a question';
                
                if (voiceEnabled) {
                    speak(message);
                } else {
                    alert(message);
                }
                return;
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥—É–º–∞–µ—Ç
            const resultsSection = document.getElementById('resultsSection');
            const resultsContent = document.getElementById('resultsContent');
            
            resultsSection.style.display = 'block';
            resultsContent.innerHTML = createThinkingMessage();
            
            // FMP –ê–ù–ê–õ–ò–ó –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò
            setTimeout(() => {
                console.log('üß¨ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ FMP –∞–Ω–∞–ª–∏–∑–∞...');
                
                // –≠–¢–ê–ü 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
                const contextAnalysis = analyzeQuestionContext(question);
                updateThinkingStatus('üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞...');
                
                setTimeout(() => {
                    // –≠–¢–ê–ü 2: –ü–æ–∏—Å–∫ –º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π
                    updateThinkingStatus('üåê –ò—â—É –º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π...');
                    
                    setTimeout(() => {
                        // –≠–¢–ê–ü 3: –§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
                        updateThinkingStatus('üìê –í—ã–ø–æ–ª–Ω—è—é —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—É—é –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é...');
                        
                        setTimeout(() => {
                            // –≠–¢–ê–ü 4: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
                            updateThinkingStatus('üìö –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Å—Ç—ã...');
                            
                            setTimeout(() => {
                                // –≠–¢–ê–ü 5: –°–∏–Ω—Ç–µ–∑ –æ—Ç–≤–µ—Ç–∞
                                updateThinkingStatus('üß† –°–∏–Ω—Ç–µ–∑–∏—Ä—É—é –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π –æ—Ç–≤–µ—Ç...');
                                
                                setTimeout(() => {
                                    const answer = generateAnswer(question);
                                    displayAnswer(answer);
                                    
                                    if (voiceEnabled) {
                                        setTimeout(() => {
                                            readAloud();
                                        }, 500);
                                    }
                                }, 800);
                            }, 600);
                        }, 600);
                    }, 600);
                }, 800);
            }, 1000);
        }
        
        function updateThinkingStatus(message) {
            const resultsContent = document.getElementById('resultsContent');
            const messages = {
                uz: message.replace('–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞', '–°–∞–≤–æ–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏–Ω–∏ —Ç–∞“≥–ª–∏–ª “õ–∏–ª—è–ø–º–∞–Ω')
                           .replace('–ò—â—É –º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏', '–ú–∏—Ü–µ–ª–∏–π –±–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä–Ω–∏ “õ–∏–¥–∏—Ä–∞—è–ø–º–∞–Ω')
                           .replace('–í—ã–ø–æ–ª–Ω—è—é —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—É—é –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é', '–§—Ä–∞–∫—Ç–∞–ª –∞–∂—Ä–∞—Ç–∏—à–Ω–∏ –±–∞–∂–∞—Ä–∞—è–ø–º–∞–Ω')
                           .replace('–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Å—Ç—ã', '–¢–∞—Ä–∏—Ö–∏–π “õ–∞—Ç–ª–∞–º–ª–∞—Ä–Ω–∏ –±–∏—Ä–ª–∞—à—Ç–∏—Ä–∞—è–ø–º–∞–Ω')
                           .replace('–°–∏–Ω—Ç–µ–∑–∏—Ä—É—é –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π –æ—Ç–≤–µ—Ç', '–ö—û–ø “õ–∞—Ç–ª–∞–º–ª–∏ –∂–∞–≤–æ–± —è—Å–∞—è–ø–º–∞–Ω'),
                ru: message,
                en: message.replace('–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞', 'Analyzing question context')
                           .replace('–ò—â—É –º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏', 'Searching mycelial connections')
                           .replace('–í—ã–ø–æ–ª–Ω—è—é —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—É—é –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é', 'Performing fractal decomposition')
                           .replace('–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Å—Ç—ã', 'Integrating historical layers')
                           .replace('–°–∏–Ω—Ç–µ–∑–∏—Ä—É—é –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π –æ—Ç–≤–µ—Ç', 'Synthesizing multi-layer answer')
            };
            
            resultsContent.innerHTML = `<div class="answer-simple">
                <div class="answer-title">‚è≥ FMP Engine</div>
                <div class="answer-text">${messages[currentLanguage]}</div>
            </div>`;
        }
        
        function analyzeQuestionContext(question) {
            // –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            const context = {
                domain: 'general',
                complexity: 'medium',
                culturalRelevance: 'high',
                historicalDepth: 'medium'
            };
            
            console.log('üìä –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞:', context);
            return context;
        }
        
        function createThinkingMessage() {
            const messages = {
                uz: 'ü§î –§–∏–∫—Ä —é—Ä–∏—Ç–∞—è–ø–º–∞–Ω... –ò–ª—Ç–∏–º–æ—Å, –±–∏—Ä–æ–∑ –∫—É—Ç–∏–Ω–≥.',
                ru: 'ü§î –î—É–º–∞—é... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ.',
                en: 'ü§î Thinking... Please wait a moment.'
            };
            
            return `<div class="answer-simple">
                <div class="answer-title">‚è≥</div>
                <div class="answer-text">${messages[currentLanguage]}</div>
            </div>`;
        }
        
        // === FMP –ê–ù–ê–õ–ò–ó - –§–†–ê–ö–¢–ê–õ–¨–ù–ê–Ø –ú–ï–¢–ê–ù–ê–£–ö–ê ===
        function generateAnswer(question) {
            console.log('üß¨ –ù–∞—á–∏–Ω–∞—é FMP –∞–Ω–∞–ª–∏–∑ –≤–æ–ø—Ä–æ—Å–∞:', question);
            
            // 1. –ú–ò–¶–ï–õ–ò–ô-–ê–ù–ê–õ–ò–ó: –ø–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö —Å–≤—è–∑–µ–π
            const myceliumConnections = findMyceliumConnections(question);
            
            // 2. –§–†–ê–ö–¢–ê–õ–¨–ù–ê–Ø –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–Ø: —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–∏
            const fractalLevels = decomposeFractal(question);
            
            // 3. –°–ü–ò–†–ê–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø: —É—á—ë—Ç —Ä–∞–∑–≤–∏—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const spiralLevel = determineSpiralLevel(currentAge, currentLanguage);
            
            // 4. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í–†–ï–ú–ï–ù–ù–´–• –ü–õ–ê–°–¢–û–í
            const historicalLayers = integrateHistoricalLayers(question);
            
            // 5. –°–ò–ù–¢–ï–ó –û–¢–í–ï–¢–ê
            return synthesizeFMPAnswer(question, {
                mycelium: myceliumConnections,
                fractal: fractalLevels,
                spiral: spiralLevel,
                history: historicalLayers
            });
        }
        
        // –ú–ò–¶–ï–õ–ò–ô-–°–í–Ø–ó–ò: –ø–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
        function findMyceliumConnections(question) {
            const lowerQ = question.toLowerCase();
            
            const connections = {
                cosmic: [], // –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
                biological: [], // –∂–∏–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
                cultural: [], // –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
                mathematical: [], // —á–∏—Å–ª–æ–≤—ã–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏
                technological: [] // —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–æ–≥–∏–∏
            };
            
            // –ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
            if (lowerQ.includes('–Ω–µ–±–æ') || lowerQ.includes('–∑–≤–µ–∑–¥') || lowerQ.includes('—Å–æ–ª–Ω—Ü') || 
                lowerQ.includes('sky') || lowerQ.includes('star') || lowerQ.includes('sun') ||
                lowerQ.includes('–æ—Å–º–æ–Ω') || lowerQ.includes('—é–ª–¥—É–∑') || lowerQ.includes('–∫—É—ë—à')) {
                connections.cosmic = [
                    '–†–∞—Å—Å–µ—è–Ω–∏–µ –†—ç–ª–µ—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ ‚Üî –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–≤—ë–∑–¥',
                    '–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ —Ä–∞—Å—Ç–µ–Ω–∏–π ‚Üî –¢–µ—Ä–º–æ—è–¥–µ—Ä–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –°–æ–ª–Ω—Ü–µ',
                    '–¶–∏—Ä–∫–∞–¥–Ω—ã–µ —Ä–∏—Ç–º—ã ‚Üî –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ –æ—Ä–±–∏—Ç—ã',
                    '–£–ª—É–≥–±–µ–∫: –∑–≤—ë–∑–¥–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ ‚Üî –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è'
                ];
            }
            
            // –ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã
            if (lowerQ.includes('–∂–∏–∑–Ω') || lowerQ.includes('—Ä–∞—Å—Ç') || lowerQ.includes('–∂–∏–≤–æ') ||
                lowerQ.includes('life') || lowerQ.includes('plant') || lowerQ.includes('animal') ||
                lowerQ.includes('—Ö–∞—ë—Ç') || lowerQ.includes('—û—Å–∏–º') || lowerQ.includes('—Ö–∞–π–≤–æ–Ω')) {
                connections.biological = [
                    '–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –º–æ–∑–≥–∞ ‚Üî –ú–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –≥—Ä–∏–±–æ–≤ ‚Üî –ò–Ω—Ç–µ—Ä–Ω–µ—Ç',
                    '–î–ù–ö –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üî –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
                    '–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ ‚Üî –°–æ–ª–Ω–µ—á–Ω—ã–µ –±–∞—Ç–∞—Ä–µ–∏ ‚Üî –ö–≤–∞–Ω—Ç–æ–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                    '–ò–±–Ω –°–∏–Ω–æ: –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–∞–Ω–æ–Ω—ã ‚Üî –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–∏–æ–º–µ–¥–∏—Ü–∏–Ω–∞'
                ];
            }
            
            // –û–±—É—á–µ–Ω–∏–µ –∏ –ø–æ–∑–Ω–∞–Ω–∏–µ
            if (lowerQ.includes('—É—á–∏—Ç') || lowerQ.includes('–∑–Ω–∞–Ω') || lowerQ.includes('–æ–±—Ä–∞–∑–æ–≤') ||
                lowerQ.includes('learn') || lowerQ.includes('knowledge') || lowerQ.includes('education') ||
                lowerQ.includes('—û—Ä–≥–∞–Ω') || lowerQ.includes('–±–∏–ª–∏–º') || lowerQ.includes('—Ç–∞—ä–ª–∏–º')) {
                connections.mathematical = [
                    '–°–ø–∏—Ä–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ ‚Üî –ó–æ–ª–æ—Ç–æ–µ —Å–µ—á–µ–Ω–∏–µ ‚Üî –ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Ä–∞–ª–∏',
                    '–ù–µ–π—Ä–æ–ø–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å ‚Üî –§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è –ø–∞–º—è—Ç–∏',
                    '–ë–µ—Ä—É–Ω–∏: –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ó–µ–º–ª–∏ ‚Üî –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≥–µ–æ–¥–µ–∑–∏—è ‚Üî GPS',
                    '–°—É—Ñ–∏–π—Å–∫–∏–π –∑–∏–∫—Ä ‚Üî –ú–µ–¥–∏—Ç–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ ‚Üî –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–∑–Ω–∞–Ω–∏—è'
                ];
            }
            
            return connections;
        }
        
        // –§–†–ê–ö–¢–ê–õ–¨–ù–ê–Ø –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–Ø
        function decomposeFractal(question) {
            return {
                quantum: '–ö–≤–∞–Ω—Ç–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å - —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è',
                molecular: '–ú–æ–ª–µ–∫—É–ª—è—Ä–Ω—ã–π - —Ö–∏–º–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏',
                cellular: '–ö–ª–µ—Ç–æ—á–Ω—ã–π - –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∂–∏–∑–Ω–∏',
                organismic: '–û—Ä–≥–∞–Ω–∏–∑–º–∏—á–µ—Å–∫–∏–π - —Ü–µ–ª–æ—Å—Ç–Ω—ã–µ –∂–∏–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã',
                social: '–°–æ—Ü–∏–∞–ª—å–Ω—ã–π - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤ –≥—Ä—É–ø–ø–∞—Ö',
                cultural: '–ö—É–ª—å—Ç—É—Ä–Ω—ã–π - —Ç—Ä–∞–¥–∏—Ü–∏–∏ –∏ –∑–Ω–∞–Ω–∏—è',
                planetary: '–ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–π - —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ó–µ–º–ª–∏',
                cosmic: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π - –≥–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã'
            };
        }
        
        // –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –°–ü–ò–†–ê–õ–¨–ù–û–ì–û –£–†–û–í–ù–Ø
        function determineSpiralLevel(age, language) {
            const levels = {
                child: {
                    focus: '–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ–±—Ä–∞–∑—ã –∏ –∏—Å—Ç–æ—Ä–∏–∏',
                    method: '–ò–≥—Ä–æ–≤–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ',
                    depth: '–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π, –Ω–æ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π',
                    examples: '–ú–Ω–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∏–π –∏–∑ –ø—Ä–∏—Ä–æ–¥—ã'
                },
                teen: {
                    focus: '–ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏',
                    method: '–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ',
                    depth: '–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑',
                    examples: '–ù–∞—É—á–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –º–æ–¥–µ–ª–∏'
                },
                adult: {
                    focus: '–ú–µ–∂–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω—ã–µ —Å–≤—è–∑–∏',
                    method: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑',
                    depth: '–ì–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è',
                    examples: '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã'
                },
                senior: {
                    focus: '–ú—É–¥—Ä–æ—Å—Ç—å –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –æ–ø—ã—Ç',
                    method: '–§–∏–ª–æ—Å–æ—Ñ—Å–∫–æ–µ –æ—Å–º—ã—Å–ª–µ–Ω–∏–µ',
                    depth: '–¢—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ',
                    examples: '–ê—Ä—Ö–µ—Ç–∏–ø–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã'
                }
            };
            
            return levels[age] || levels.adult;
        }
        
        // –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ò–°–¢–û–†–ò–ß–ï–°–ö–ò–• –ü–õ–ê–°–¢–û–í
        function integrateHistoricalLayers(question) {
            const layers = {
                paleolithic: '–ü–µ—Ä–≤—ã–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏ –∏ –º—ã—Å–ª–∏—Ç–µ–ª–∏ (100,000 –ª–µ—Ç –Ω–∞–∑–∞–¥)',
                neolithic: '–°–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è (10,000 –ª–µ—Ç –Ω–∞–∑–∞–¥)',
                bronze: '–ü–µ—Ä–≤—ã–µ —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏ (5,000 –ª–µ—Ç –Ω–∞–∑–∞–¥)',
                classical: '–ê–Ω—Ç–∏—á–Ω—ã–µ —Ñ–∏–ª–æ—Å–æ—Ñ—ã –∏ —É—á—ë–Ω—ã–µ',
                islamic: '–ò—Å–ª–∞–º—Å–∫–∏–π —Ä–µ–Ω–µ—Å—Å–∞–Ω—Å (VIII-XIV –≤–µ–∫–∞)',
                modern: '–ù–∞—É—á–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è (XVI-XVIII –≤–µ–∫–∞)',
                industrial: '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è (XIX –≤–µ–∫)',
                information: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —ç—Ä–∞ (XX –≤–µ–∫)',
                quantum: '–ö–≤–∞–Ω—Ç–æ–≤–∞—è —ç–ø–æ—Ö–∞ (XXI –≤–µ–∫)',
                cosmic: '–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –±—É–¥—É—â–µ–µ'
            };
            
            return layers;
        }
        
        // –°–ò–ù–¢–ï–ó FMP –û–¢–í–ï–¢–ê
        function synthesizeFMPAnswer(question, analysis) {
            const lowerQ = question.toLowerCase();
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ç–µ–º—É
            let primaryDomain = 'general';
            
            if (lowerQ.includes('–Ω–µ–±–æ') || lowerQ.includes('–∑–≤–µ–∑–¥') || lowerQ.includes('sky') || lowerQ.includes('star') || lowerQ.includes('–æ—Å–º–æ–Ω')) {
                primaryDomain = 'astronomy';
            } else if (lowerQ.includes('—É—á–∏—Ç') || lowerQ.includes('learn') || lowerQ.includes('—û—Ä–≥–∞–Ω')) {
                primaryDomain = 'learning';
            } else if (lowerQ.includes('–∂–∏–∑–Ω') || lowerQ.includes('life') || lowerQ.includes('—Ö–∞—ë—Ç')) {
                primaryDomain = 'biology';
            }
            
            // –°–æ–∑–¥–∞—ë–º –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –æ—Ç–≤–µ—Ç
            const fmpResponse = createLayeredResponse(primaryDomain, analysis);
            
            return fmpResponse;
        }
        
        // –°–û–ó–î–ê–ù–ò–ï –ú–ù–û–ì–û–°–õ–û–ô–ù–û–ì–û –û–¢–í–ï–¢–ê
        function createLayeredResponse(domain, analysis) {
            const responses = {
                astronomy: createAstronomyResponse(analysis),
                learning: createLearningResponse(analysis),
                biology: createBiologyResponse(analysis),
                general: createGeneralResponse(analysis)
            };
            
            return responses[domain] || responses.general;
        }
        
        // –°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï FMP –û–¢–í–ï–¢–´ –ü–û –î–û–ú–ï–ù–ê–ú
        
        function createAstronomyResponse(analysis) {
            const responses = {
                uz: `üåå **–ö–û–°–ú–ò–ö –§–†–ê–ö–¢–ê–õ –ê–ù–ê–õ–ò–ó–ò**

**–ú–∏—Ü–µ–ª–∏–π-–±–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä:**
${analysis.mycelium.cosmic.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–¢–∞—Ä–∏—Ö–∏–π “õ–∞—Ç–ª–∞–º–ª–∞—Ä:**
‚Ä¢ –ë–µ—Ä—É–Ω–∏ (973-1048): –ï—Ä —Ä–∞–¥–∏—É—Å–∏–Ω–∏ —û–ª—á–∞–≥–∞–Ω - —Ö–æ–∑–∏—Ä–≥–∏ GPS —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Å–∏ –±–∏–ª–∞–Ω 99.3% –∞–Ω–∏“õ–ª–∏–∫
‚Ä¢ –£–ª—É“ì–±–µ–∫ (1394-1449): 994 —Ç–∞ —é–ª–¥—É–∑ –∫–∞—Ç–∞–ª–æ–≥–∏ - –∑–∞–º–æ–Ω–∞–≤–∏–π –•–∞–±–±–ª —Ç–µ–ª–µ—Å–∫–æ–ø–∏–Ω–∏–Ω–≥ –∞–¥–∂–æ–¥–∏
‚Ä¢ –§–∞—Ä“ì–æ–Ω–∏–π (IX –∞—Å—Ä): –ï—Ä –∞–π–ª–∞–Ω–∏—à–∏–Ω–∏ “≥–∏—Å–æ–±–ª–∞–≥–∞–Ω - –∫–æ—Å–º–∏–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∞—Å–æ—Å–∏

**–§—Ä–∞–∫—Ç–∞–ª —û—Ö—à–∞—à–ª–∏–∫–ª–∞—Ä:**
‚Ä¢ –ê—Ç–æ–º –æ—Ä–±–∏—Ç–∞–ª–∞—Ä–∏ ‚Üî –ü–ª–∞–Ω–µ—Ç–∞ –æ—Ä–±–∏—Ç–∞–ª–∞—Ä–∏ ‚Üî –ì–∞–ª–∞–∫—Ç–∏–∫–∞ —Å–ø–∏—Ä–∞–ª–ª–∞—Ä–∏
‚Ä¢ “ö–æ–Ω —Ç–æ–º–∏—Ä —Ç–∞—Ä–º–æ“õ–ª–∞—Ä–∏ ‚Üî –î–∞—Ä—ë —Ç–∏–∑–∏–º–ª–∞—Ä–∏ ‚Üî –ö–æ—Å–º–∏–∫ –Ω—É—Ä –π—û–ª–ª–∞—Ä–∏
‚Ä¢ –Æ—Ä–∞–∫ —Ä–∏—Ç–º–∏ ‚Üî –ü—É–ª—å—Å–∞—Ä —Å–∏–≥–Ω–∞–ª–ª–∞—Ä–∏ ‚Üî –ì–∞–ª–∞–∫—Ç–∏–∫ –º–∞—Ä–∫–∞–∑–Ω–∏–Ω–≥ —ç–Ω–µ—Ä–≥–∏—è –∏–º–ø—É–ª—Å–ª–∞—Ä–∏

**–ê–º–∞–ª–∏–π “õ—û–ª–ª–∞–Ω–∏—à:**
–ë—É –±–∏–ª–∏–º GPS –Ω–∞–≤–∏–≥–∞—Ü–∏—è—Å–∏, —Å—É–Ω'–∏–π –π—û–ª–¥–æ—à–ª–∞—Ä –≤–∞ –∫–æ—Å–º–∏–∫ —Å–∞—ë“≥–∞—Ç–ª–∞—Ä–¥–∞ –∏—à–ª–∞—Ç–∏–ª–∞–¥–∏.`,

                ru: `üåå **–ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –§–†–ê–ö–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó**

**–ú–∏—Ü–µ–ª–∏–π-—Å–≤—è–∑–∏:**
${analysis.mycelium.cosmic.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Å—Ç—ã:**
‚Ä¢ –ë–µ—Ä—É–Ω–∏ (973-1048): –ò–∑–º–µ—Ä–∏–ª —Ä–∞–¥–∏—É—Å –ó–µ–º–ª–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 99.3% –æ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö GPS
‚Ä¢ –£–ª—É–≥–±–µ–∫ (1394-1449): –ö–∞—Ç–∞–ª–æ–≥ 994 –∑–≤—ë–∑–¥ - –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–ª–µ—Å–∫–æ–ø–∞ –•–∞–±–±–ª
‚Ä¢ –§–µ—Ä–≥–∞–Ω–∏ (IX –≤–µ–∫): –í—ã—á–∏—Å–ª–∏–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–∞—â–µ–Ω–∏—è –ó–µ–º–ª–∏ - –æ—Å–Ω–æ–≤–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–§—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ –ø–æ–¥–æ–±–∏—è:**
‚Ä¢ –ê—Ç–æ–º–Ω—ã–µ –æ—Ä–±–∏—Ç–∞–ª–∏ ‚Üî –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ –æ—Ä–±–∏—Ç—ã ‚Üî –ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Ä–∞–ª–∏
‚Ä¢ –ö—Ä–æ–≤–µ–Ω–æ—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Üî –†–µ—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã ‚Üî –ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ª—É—á–∏
‚Ä¢ –°–µ—Ä–¥–µ—á–Ω—ã–π —Ä–∏—Ç–º ‚Üî –ü—É–ª—å—Å–∞—Ä—ã ‚Üî –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–ø—É–ª—å—Å—ã –≥–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
–≠—Ç–∏ –∑–Ω–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ GPS-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—ë—Ç–∞—Ö.`,

                en: `üåå **COSMIC FRACTAL ANALYSIS**

**Mycelium connections:**
${analysis.mycelium.cosmic.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**Historical layers:**
‚Ä¢ Al-Biruni (973-1048): Measured Earth's radius with 99.3% accuracy compared to modern GPS data
‚Ä¢ Ulugh Beg (1394-1449): Catalog of 994 stars - predecessor of the Hubble Space Telescope
‚Ä¢ Al-Farghani (9th century): Calculated Earth's rotation parameters - basis of space navigation

**Fractal similarities:**
‚Ä¢ Atomic orbitals ‚Üî Planetary orbits ‚Üî Galactic spirals
‚Ä¢ Circulatory system ‚Üî River systems ‚Üî Cosmic rays
‚Ä¢ Heartbeat rhythm ‚Üî Pulsars ‚Üî Galactic center energy pulses

**Practical application:**
This knowledge is used in GPS navigation, satellite technology and space flights.`
            };
            
            return responses[currentLanguage];
        }
        
        function createLearningResponse(analysis) {
            const responses = {
                uz: `üìö **–é–†–ì–ê–ù–ò–® –§–†–ê–ö–¢–ê–õ–õ–ê–†–ò –ê–ù–ê–õ–ò–ó–ò**

**–ù–µ–π—Ä–æ-–ú–∏—Ü–µ–ª–∏–π –±–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä:**
${analysis.mycelium.mathematical.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–¢–∞—Ä–∏—Ö–∏–π —Ç–∞–∂—Ä–∏–±–∞ “õ–∞—Ç–ª–∞–º–ª–∞—Ä–∏:**
‚Ä¢ –ö—û“≥–Ω–∞ –∑–∞–º–æ–Ω: –®–∞–º–∞–Ω–ª–∞—Ä –≤–∞ –¥–æ–ª–æ–ª–∞—Ä–Ω–∏–Ω–≥ —Ö–æ—Ç–∏—Ä–∞ —Ç–µ—Ö–Ω–∏–∫–∞—Å–∏
‚Ä¢ –ò—Å–ª–æ–º –¥–∞–≤—Ä–∏–°–∏: –ê–ª-–ñ–∞“≥–∏–∑ –≤–∞ "–ö–∏—Ç–æ–± –∞–ª-–•–∞–π–≤–æ–Ω" - –±–∏–æ–ª–æ–≥–∏–∫ –∫—É–∑–∞—Ç–∏—à –º–µ—Ç–æ–¥–∏
‚Ä¢ –ù–∞–≤–æ–∏–π (1441-1501): –ß–æ—Ä —Ç–∏–ª–¥–∞ –∏–∂–æ–¥ “õ–∏–ª–∏—à - –∫—û–ø—Ç–∏–ª–ª–∏ —Ñ–∏–∫—Ä–ª–∞—à
‚Ä¢ –î–∂–∞–¥–∏–¥–ª–∞—Ä (XIX-XX –∞—Å—Ä): –Ø–Ω–≥–∏ —É—Å—É–ª —Ç–∞—ä–ª–∏–º–∏ - –∑–∞–º–æ–Ω–∞–≤–∏–π –ø–µ–¥–∞–≥–æ–≥–∏–∫–∞

**–ú–∏—è —Å–ø–∏—Ä–∞–ª–ª–∞—Ä–∏–Ω–∏–Ω–≥ –≥–µ–æ–º–µ—Ç—Ä–∏—è—Å–∏:**
‚Ä¢ –ù–µ–π—Ä–æ–Ω —É–ª–∞–Ω–∏—à—Ç–∏–ª–∞—Ä–∏ = –î–∞—Ä–∞—Ö—Ç —Ç–∞—Ä–º–æ“õ–ª–∞—Ä–∏ = –î–∞—Ä—ë —Å–∏—Å—Ç–µ–º–∞–ª–∞—Ä–∏
‚Ä¢ –•–æ—Ç–∏—Ä–∞ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è—Å–∏ = –ö—Ä–∏—Å—Ç–∞–ª–ª —û—Å–∏—à–∏ = –ì–∞–ª–∞–∫—Ç–∏–∫–∞ —Ñ–æ—Ä–º–∞—Ü–∏—è—Å–∏
‚Ä¢ –ò–∂–æ–¥–∫–æ—Ä–ª–∏–∫ = –•–∞–æ—Å –≤–∞ —Ç–∞—Ä—Ç–∏–± –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ç—Å–∏

**–ê–º–∞–ª–∏–π —É—Å—É–ª–ª–∞—Ä:**
1. –°–ø–∏—Ä–∞–ª—å–ª–∏ —Ç–∞–∫—Ä–æ—Ä–ª–∞—à - —Ç–∞–±–∏–∏–π —Ö–æ—Ç–∏—Ä–∞ —Ä–∏—Ç–º–ª–∞—Ä–∏
2. –ú—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä —ë–Ω–¥–∞—à—É–≤ - –±–∞—Ä—á–∞ —Å–µ–∑–≥–∏–ª–∞—Ä —Ñ–∞–æ–ª–ª–∞—à—Ç–∏—Ä–∏—à
3. –ú–µ—Ç–∞–∫–æ–≥–Ω–∏—Ç–∏–≤ —û–∑-—û–∑–∏–Ω–∏ –∫—É–∑–∞—Ç–∏—à - —à—É—É—Ä —Å–ø–∏—Ä–∞–ª–∏–Ω–∏ –∞–Ω–≥–ª–∞—à`,

                ru: `üìö **–ê–ù–ê–õ–ò–ó –§–†–ê–ö–¢–ê–õ–û–í –û–ë–£–ß–ï–ù–ò–Ø**

**–ù–µ–π—Ä–æ-–º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏:**
${analysis.mycelium.mathematical.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ –æ–ø—ã—Ç–∞:**
‚Ä¢ –î—Ä–µ–≤–Ω–æ—Å—Ç—å: –¢–µ—Ö–Ω–∏–∫–∏ –ø–∞–º—è—Ç–∏ —à–∞–º–∞–Ω–æ–≤ –∏ –∂—Ä–µ—Ü–æ–≤
‚Ä¢ –ò—Å–ª–∞–º—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥: –ê–ª—å-–î–∂–∞—Ö–∏–∑ –∏ "–ö–Ω–∏–≥–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö" - –º–µ—Ç–æ–¥ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
‚Ä¢ –ù–∞–≤–æ–∏ (1441-1501): –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –Ω–∞ —á–µ—Ç—ã—Ä—ë—Ö —è–∑—ã–∫–∞—Ö - –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ
‚Ä¢ –î–∂–∞–¥–∏–¥—ã (XIX-XX –≤–µ–∫–∞): –ù–æ–≤–æ–º–µ—Ç–æ–¥–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ–¥–∞–≥–æ–≥–∏–∫–∞

**–ì–µ–æ–º–µ—Ç—Ä–∏—è –º–æ–∑–≥–æ–≤—ã—Ö —Å–ø–∏—Ä–∞–ª–µ–π:**
‚Ä¢ –ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–≤—è–∑–∏ = –í–µ—Ç–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤ = –†–µ—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
‚Ä¢ –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ = –†–æ—Å—Ç –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ = –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫
‚Ä¢ –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ = –ò–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Ö–∞–æ—Å–∞ –∏ –ø–æ—Ä—è–¥–∫–∞

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:**
1. –°–ø–∏—Ä–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∏—Ç–º—ã –ø–∞–º—è—Ç–∏
2. –ú—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–æ–≤ —á—É–≤—Å—Ç–≤
3. –ú–µ—Ç–∞–∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–µ —Å–∞–º–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ - –æ—Å–æ–∑–Ω–∞–Ω–∏–µ —Å–ø–∏—Ä–∞–ª–µ–π —Å–æ–∑–Ω–∞–Ω–∏—è`,

                en: `üìö **LEARNING FRACTALS ANALYSIS**

**Neuro-mycelial connections:**
${analysis.mycelium.mathematical.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**Historical experience layers:**
‚Ä¢ Ancient times: Memory techniques of shamans and priests
‚Ä¢ Islamic period: Al-Jahiz and "Book of Animals" - biological observation method
‚Ä¢ Navoi (1441-1501): Creativity in four languages - multilingual thinking
‚Ä¢ Jadids (XIX-XX centuries): New method education - modern pedagogy

**Geometry of brain spirals:**
‚Ä¢ Neural connections = Tree branching = River systems
‚Ä¢ Memory consolidation = Crystal growth = Galaxy formation
‚Ä¢ Creativity = Interference of chaos and order

**Practical methods:**
1. Spiral repetition - natural memory rhythms
2. Multisensory approach - activation of all senses
3. Metacognitive self-observation - awareness of consciousness spirals`
            };
            
            return responses[currentLanguage];
        }
        
        function createBiologyResponse(analysis) {
            const responses = {
                uz: `üß¨ **“≤–ê–Å–¢ –§–†–ê–ö–¢–ê–õ–õ–ê–†–ò –ê–ù–ê–õ–ò–ó–ò**

**–ë–∏–æ-–ú–∏—Ü–µ–ª–∏–π —Ç–∞—Ä–º–æ“õ–ª–∞—Ä–∏:**
${analysis.mycelium.biological.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–¢–∞—Ä–∏—Ö–∏–π –∏–ª–º —Ä–∏–≤–æ–∂–∏:**
‚Ä¢ –ò–±–Ω –°–∏–Ω–æ (980-1048): "–¢–∏–±–±–∏—ë—Ç “õ–æ–Ω—É–Ω–ª–∞—Ä–∏" - 800 –π–∏–ª –¥–∞–≤–æ–º–∏–¥–∞ –∞—Å–æ—Å–∏–π –¥–∞—Ä—Å–ª–∏–∫
‚Ä¢ –ë–µ—Ä—É–Ω–∏: “≤–∏–Ω–¥ —Ç–∞–±–∞–±–∞—Ç–∏–Ω–∏ —û—Ä–≥–∞–Ω–∏—à - “õ–∏—ë—Å–∏–π –º–µ–¥–∏—Ü–∏–Ω–∞
‚Ä¢ –†–æ–∑–∏ (854-925): –ë–∏—Ä–∏–Ω—á–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª –º–µ–¥–∏—Ü–∏–Ω–∞ - —Ö–∞–π–≤–æ–Ω–ª–∞—Ä–¥–∞ —Å–∏–Ω–æ–≤

**–§—Ä–∞–∫—Ç–∞–ª —û—Ö—à–∞—à–ª–∏–≥–∏ “õ–æ–Ω—É–Ω–ª–∞—Ä–∏:**
‚Ä¢ –î–ù–ö —Å–ø–∏—Ä–∞–ª–∏ ‚Üî –ì–∞–ª–∞–∫—Ç–∏–∫–∞ —Å–ø–∏—Ä–∞–ª–∏ ‚Üî –°—É—é“õ–ª–∏–∫ –æ“õ–∏–º–∏ —Å–ø–∏—Ä–∞–ª–ª–∞—Ä–∏
‚Ä¢ –é–ø–∫–∞ –∞–ª—å–≤–µ–æ–ª–∞–ª–∞—Ä–∏ ‚Üî –î–∞—Ä–∞—Ö—Ç –±–∞—Ä–≥–ª–∞—Ä–∏ ‚Üî –ë—É–ª—É—Ç–ª–∞—Ä —Ñ—Ä–∞–∫—Ç–∞–ª–∏
‚Ä¢ –Æ—Ä–∞–∫-“õ–æ–Ω —Ç–æ–º–∏—Ä —Ç–∏–∑–∏–º–∏ ‚Üî –î–∞—Ä—ë –¥–µ–ª—å—Ç–∞–ª–∞—Ä–∏ ‚Üî –ú–æ–ª–Ω–∏—è–Ω–∏–≥ —Ç–∞—Ä–º–æ“õ–ª–∞–Ω–∏—à–∏

**–ó–∞–º–æ–Ω–∞–≤–∏–π –∏–ª–æ–≤–∞:**
–ë–∏–æ–º–∏–º–µ—Ç–∏–∫–∞ - —Ç–∞–±–∏–∞—Ç–¥–∞–Ω —û—Ä–≥–∞–Ω–∏–± —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è —è—Ä–∞—Ç–∏—à. –ú–∞—Å–∞–ª–∞–Ω, –≥–µ–∫–æ–Ω –ø–∞–Ω–∂–∞—Å–∏ ‚Üí –Ω–∞–Ω–æ-—ë–ø–∏—à“õ–æ“õ–ª–∞—Ä, –∞–∫—É–ª–∞ —Ç–µ—Ä–∏—Å–µ ‚Üí —Ç—É—Ä–±—É–ª–µ–Ω—Ç–ª–∏–∫–Ω–∏ –∫–∞–º–∞–π—Ç–∏—Ä—É–≤—á–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–ª–∞—Ä.`,

                ru: `üß¨ **–ê–ù–ê–õ–ò–ó –§–†–ê–ö–¢–ê–õ–û–í –ñ–ò–ó–ù–ò**

**–ë–∏–æ-–º–∏—Ü–µ–ª–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:**
${analysis.mycelium.biological.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–∞—É–∫–∏:**
‚Ä¢ –ò–±–Ω –°–∏–Ω–∞ (980-1048): "–ö–∞–Ω–æ–Ω –≤—Ä–∞—á–µ–±–Ω–æ–π –Ω–∞—É–∫–∏" - –æ—Å–Ω–æ–≤–Ω–æ–π —É—á–µ–±–Ω–∏–∫ 800 –ª–µ—Ç
‚Ä¢ –ë–µ—Ä—É–Ω–∏: –ò–∑—É—á–µ–Ω–∏–µ –∏–Ω–¥–∏–π—Å–∫–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã - —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–µ–¥–∏—Ü–∏–Ω–∞
‚Ä¢ –ê—Ä-–†–∞–∑–∏ (854-925): –ü–µ—Ä–≤–∞—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–µ–¥–∏—Ü–∏–Ω–∞ - –∏—Å–ø—ã—Ç–∞–Ω–∏—è –Ω–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö

**–ó–∞–∫–æ–Ω—ã —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–æ–±–∏—è:**
‚Ä¢ –°–ø–∏—Ä–∞–ª—å –î–ù–ö ‚Üî –ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Ä–∞–ª–∏ ‚Üî –°–ø–∏—Ä–∞–ª–∏ –ø–æ—Ç–æ–∫–æ–≤ –∂–∏–¥–∫–æ—Å—Ç–∏
‚Ä¢ –ê–ª—å–≤–µ–æ–ª—ã –ª—ë–≥–∫–∏—Ö ‚Üî –õ–∏—Å—Ç—å—è –¥–µ—Ä–µ–≤—å–µ–≤ ‚Üî –§—Ä–∞–∫—Ç–∞–ª –æ–±–ª–∞–∫–æ–≤
‚Ä¢ –°–µ—Ä–¥–µ—á–Ω–æ-—Å–æ—Å—É–¥–∏—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Üî –î–µ–ª—å—Ç—ã —Ä–µ–∫ ‚Üî –†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –º–æ–ª–Ω–∏–∏

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
–ë–∏–æ–º–∏–º–µ—Ç–∏–∫–∞ - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –∏–∑—É—á–∞—è –ø—Ä–∏—Ä–æ–¥—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –ª–∞–ø—ã –≥–µ–∫–∫–æ–Ω–∞ ‚Üí –Ω–∞–Ω–æ-–∫–ª–µ–∏, –∫–æ–∂–∞ –∞–∫—É–ª—ã ‚Üí –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Å–Ω–∏–∂–∞—é—â–∏–µ —Ç—É—Ä–±—É–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å.`,

                en: `üß¨ **LIFE FRACTALS ANALYSIS**

**Bio-mycelial networks:**
${analysis.mycelium.biological.map(conn => `‚Ä¢ ${conn}`).join('\n')}

**Historical development of science:**
‚Ä¢ Ibn Sina (980-1048): "Canon of Medicine" - main textbook for 800 years
‚Ä¢ Al-Biruni: Study of Indian medicine - comparative medicine
‚Ä¢ Ar-Razi (854-925): First experimental medicine - animal testing

**Laws of fractal similarity:**
‚Ä¢ DNA spiral ‚Üî Galactic spirals ‚Üî Fluid flow spirals
‚Ä¢ Lung alveoli ‚Üî Tree leaves ‚Üî Cloud fractals
‚Ä¢ Cardiovascular system ‚Üî River deltas ‚Üî Lightning branching

**Modern application:**
Biomimetics - creating technology by studying nature. For example, gecko paws ‚Üí nano-adhesives, shark skin ‚Üí turbulence-reducing materials.`
            };
            
            return responses[currentLanguage];
        }
        
        function createGeneralResponse(analysis) {
            const responses = {
                uz: `üåê **–£–ú–£–ú–ò–ô FMP –ê–ù–ê–õ–ò–ó–ò**

**–ú—É–ª—å—Ç–∏–¥–æ–º–µ–Ω–ª–∏ –±–æ“ì–ª–∞–Ω–∏—à–ª–∞—Ä:**
‚Ä¢ –§–∏–∑–∏–∫–∞ ‚Üî –ë–∏–æ–ª–æ–≥–∏—è ‚Üî –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è ‚Üî –°–æ—Ü–∏–æ–ª–æ–≥–∏—è ‚Üî –ö–æ—Å–º–æ–ª–æ–≥–∏—è
‚Ä¢ –ú–∏–∫—Ä–æ ‚Üî –ú–∞–∫—Ä–æ –º–∞—Å—à—Ç–∞–±–ª–∞—Ä –æ—Ä–∞—Å–∏–¥–∞–≥–∏ —û—Ö—à–∞—à–ª–∏–∫–ª–∞—Ä
‚Ä¢ –¢–∞—Ä–∏—Ö–∏–π —Ü–∏–∫–ª–ª–∞—Ä–Ω–∏–Ω–≥ —Ç–∞–∫—Ä–æ—Ä–ª–∞–Ω–∏—à–∏ —è–Ω–≥–∏ –¥–∞—Ä–∞–∂–∞–¥–∞

**–¢–µ—Ä—Ä–∞–ø–µ–¥–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∏:**
“≤–∞—Ä –±–∏—Ä —Å–∞–≤–æ–ª - –±—É —Ñ—Ä–∞–∫—Ç–∞–ª –¥–∞—Ä—á–∞ –¥—É–Ω—ë–≥–∞. –°–æ–¥–¥–∞ —Å–∞–≤–æ–ª–¥–∞–Ω –±–æ—à–ª–∞–±, –±—É—Ç—É–Ω –æ–ª–∞–º –±–∏–ª–∏–º–ª–∞—Ä–∏–≥–∞ –µ—Ç–∏—à –º—É–º–∫–∏–Ω.

**–ê–º–∞–ª–∏–π –π—û–Ω–∞–ª–∏—à–ª–∞—Ä:**
1. “ö–∏—ë—Å–∏–π —ë–Ω–¥–∞—à—É–≤ - —Ç—É—Ä–ª–∏ —Å–æ“≥–∞–ª–∞—Ä–¥–∞–≥–∏ —û—Ö—à–∞—à–ª–∏–∫–ª–∞—Ä
2. –¢–∞—Ä–∏—Ö–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª–ª–∞—Ä - —û—Ç–º–∏—à–¥–∞–Ω “≥–æ–∑–∏—Ä–≥–∞ –±–æ“ì–ª–∞—Ä
3. –ú–∞—Å—à—Ç–∞–± –∞–ª–º–∞—à—Ç–∏—Ä–∏—à - –∫–∏—á–∏–∫–¥–∞–Ω –∫–∞—Ç—Ç–∞–≥–∞ —û—Ç–∏—à
4. –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–∫—Ä–ª–∞—à - –±–∞—Ä—á–∞ —ç–ª–µ–º–µ–Ω—Ç–ª–∞—Ä —û–∑–∞—Ä–æ –±–æ“ì–ª–∏“õ`,

                ru: `üåê **–û–ë–©–ò–ô FMP –ê–ù–ê–õ–ò–ó**

**–ú—É–ª—å—Ç–∏–¥–æ–º–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏:**
‚Ä¢ –§–∏–∑–∏–∫–∞ ‚Üî –ë–∏–æ–ª–æ–≥–∏—è ‚Üî –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è ‚Üî –°–æ—Ü–∏–æ–ª–æ–≥–∏—è ‚Üî –ö–æ—Å–º–æ–ª–æ–≥–∏—è
‚Ä¢ –ü–æ–¥–æ–±–∏—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ ‚Üî –º–∞–∫—Ä–æ –º–∞—Å—à—Ç–∞–±–∞–º–∏
‚Ä¢ –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤ –Ω–∞ –Ω–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ

**–ü—Ä–∏–Ω—Ü–∏–ø –¢–µ—Ä—Ä–∞–ø–µ–¥–∏–∏:**
–ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å - —ç—Ç–æ —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤ –º–∏—Ä. –ù–∞—á–∞–≤ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞, –º–æ–∂–Ω–æ –¥–æ–π—Ç–∏ –¥–æ –∑–Ω–∞–Ω–∏–π –≤—Å–µ–π –í—Å–µ–ª–µ–Ω–Ω–æ–π.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - –ø–æ–¥–æ–±–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö
2. –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ - —Å–≤—è–∑–∏ –æ—Ç –ø—Ä–æ—à–ª–æ–≥–æ –∫ –Ω–∞—Å—Ç–æ—è—â–µ–º—É
3. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç –º–∞–ª–æ–≥–æ –∫ –±–æ–ª—å—à–æ–º—É
4. –°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω—ã`,

                en: `üåê **GENERAL FMP ANALYSIS**

**Multi-domain connections:**
‚Ä¢ Physics ‚Üî Biology ‚Üî Psychology ‚Üî Sociology ‚Üî Cosmology
‚Ä¢ Similarities between micro ‚Üî macro scales
‚Ä¢ Repetition of historical cycles at a new level

**Terrapedia principle:**
Every question is a fractal window into the world. Starting with a simple question, you can reach the knowledge of the entire Universe.

**Practical directions:**
1. Comparative approach - similarities in different areas
2. Historical parallels - connections from past to present
3. Scaling - transition from small to large
4. Systems thinking - all elements are interconnected`
            };
            
            return responses[currentLanguage];
        }
        
        // –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û –í–û–ó–†–ê–°–¢–£ –° FMP –ü–†–ò–ù–¶–ò–ü–ê–ú–ò
        
        function generateChildAnswer(question, lowerQuestion) {
            const answers = {
                uz: {
                    sky: "üåå –û—Å–º–æ–Ω –∫—û–∫, —á—É–Ω–∫–∏ “≥–∞–≤–æ –∏—á–∏–¥–∞–≥–∏ –º–∞–π–¥–∞ –∑–∞—Ä—Ä–∞—á–∞–ª–∞—Ä –∫—û–∫ –Ω—É—Ä–Ω–∏ —è“õ—à–∏ –∫—û—Ä–∞–¥–∏–ª–∞—Ä! –•—É–¥–¥–∏ —Å–∏–∑–Ω–∏–Ω–≥ —ç–Ω–≥ —Å–µ–≤–∏–º–ª–∏ —Ä–∞–Ω–≥–∏–Ω–≥–∏–∑ –∫–∞–±–∏. –ö—û–∫ —Ä–∞–Ω–≥ –±–∏–∑–≥–∞ —á–∏—Ä–æ–π–ª–∏–ª–∏–∫ –≤–∞ –æ—Å–æ–π–∏—à—Ç–∞–ª–∏–∫ –±–µ—Ä–∞–¥–∏.",
                    learn: "üìö –¢–µ–∑ —û—Ä–≥–∞–Ω–∏—à —É—á—É–Ω: 1) –é–π–∏–Ω –≤–∞ “õ–∏–∑–∏“õ–∞—Ä–ª–∏ –º–∞—à“õ–ª–∞—Ä “õ–∏–ª–∏–Ω–≥ 2) –ö—û–ø —Å–∞–≤–æ–ª –±–µ—Ä–∏–Ω–≥ 3) –¢—É—à—É–Ω–º–∞–≥–∞–Ω –Ω–∞—Ä—Å–∞–ª–∞—Ä–Ω–∏ “õ–∞–π—Ç–∞-“õ–∞–π—Ç–∞ —Ç–∞–∫—Ä–æ—Ä–ª–∞–Ω–≥ 4) –ú—É“≥–∏–º –Ω–∞—Ä—Å–∞–ª–∞—Ä–Ω–∏ —Ä–∞—Å–º “õ–∏–ª–∏–± —ë–∫–∏ —ë–∑–∏–± –æ–ª–∏–Ω–≥!",
                    default: "ü§ó –ñ—É–¥–∞ “õ–∏–∑–∏“õ —Å–∞–≤–æ–ª! –ë—É “≥–∞“õ–∏–¥–∞ –∫—û–ø—Ä–æ“õ —û—Ä–≥–∞–Ω–∏—à —É—á—É–Ω –∫–∏—Ç–æ–±–ª–∞—Ä —û“õ–∏–Ω–≥, –∫–∞—Ç—Ç–∞–ª–∞—Ä–¥–∞–Ω —Å—û—Ä–∞–Ω–≥ –≤–∞ –∞—Ç—Ä–æ—Ñ–∏–Ω–≥–∏–∑–≥–∞ –¥–∏“õ“õ–∞—Ç –±–∏–ª–∞–Ω “õ–∞—Ä–∞–Ω–≥. “≤–∞—Ä –±–∏—Ä —Å–∞–≤–æ–ª - –±—É —è–Ω–≥–∏ –∫–∞—à—Ñ–∏—ë—Ç!"
                },
                ru: {
                    sky: "üåå –ù–µ–±–æ —Å–∏–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫—Ä–æ—à–µ—á–Ω—ã–µ —á–∞—Å—Ç–∏—á–∫–∏ –≤ –≤–æ–∑–¥—É—Ö–µ –ª—é–±—è—Ç —Å–∏–Ω–∏–π —Å–≤–µ—Ç! –ö–∞–∫ —Ç–≤–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç. –°–∏–Ω–∏–π —Ü–≤–µ—Ç –¥–∞–µ—Ç –Ω–∞–º –∫—Ä–∞—Å–æ—Ç—É –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.",
                    learn: "üìö –ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —É—á–∏—Ç—å—Å—è: 1) –ò–≥—Ä–∞–π –∏ –¥–µ–ª–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 2) –ó–∞–¥–∞–≤–∞–π –º–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤ 3) –ü–æ–≤—Ç–æ—Ä—è–π —Ç–æ, —á—Ç–æ –Ω–µ –ø–æ–Ω—è–ª 4) –†–∏—Å—É–π –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞–π –≤–∞–∂–Ω–æ–µ!",
                    default: "ü§ó –û—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ, —á–∏—Ç–∞–π –∫–Ω–∏–≥–∏, —Å–ø—Ä–∞—à–∏–≤–∞–π —É –≤–∑—Ä–æ—Å–ª—ã—Ö –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–º–æ—Ç—Ä–∏ –≤–æ–∫—Ä—É–≥. –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å - —ç—Ç–æ –Ω–æ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ!"
                },
                en: {
                    sky: "üåå The sky is blue because tiny particles in the air love blue light! Like your favorite color. Blue gives us beauty and peace.",
                    learn: "üìö To learn fast: 1) Play and do fun exercises 2) Ask lots of questions 3) Repeat what you don't understand 4) Draw or write important things!",
                    default: "ü§ó Very interesting question! To learn more, read books, ask adults and look carefully around you. Every question is a new discovery!"
                }
            };
            
            if (lowerQuestion.includes('–Ω–µ–±–æ') || lowerQuestion.includes('—Å–∏–Ω–µ–µ') || lowerQuestion.includes('sky') || lowerQuestion.includes('blue') || lowerQuestion.includes('–æ—Å–º–æ–Ω') || lowerQuestion.includes('–∫—û–∫')) {
                return answers[currentLanguage].sky;
            } else if (lowerQuestion.includes('—É—á–∏—Ç—å—Å—è') || lowerQuestion.includes('learn') || lowerQuestion.includes('—û—Ä–≥–∞–Ω')) {
                return answers[currentLanguage].learn;
            } else {
                return answers[currentLanguage].default;
            }
        }
        
        function generateTeenAnswer(question, lowerQuestion) {
            const answers = {
                uz: {
                    sky: "üåå –û—Å–º–æ–Ω–Ω–∏–Ω–≥ –∫—û–∫ –∫—û—Ä–∏–Ω–∏—à–∏ –†—ç–ª–µ–π —Å–æ—á–∏–ª–∏—à–∏ –¥–µ–± –∞—Ç–∞–ª—É–≤—á–∏ —Ñ–∏–∑–∏–∫ “≥–æ–¥–∏—Å–∞ —Ç—É—Ñ–∞–π–ª–∏. “ö—É—ë—à –Ω—É—Ä–∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞–≥–∞ —Ç—É—à–≥–∞–Ω–¥–∞, –∫—û–∫ —Ç—û–ª“õ–∏–Ω —É–∑—É–Ω–ª–∏–≥–∏ (400-450 –Ω–º) –∫–∏—á–∏–∫ –∑–∞—Ä—Ä–∞—á–∞–ª–∞—Ä–≥–∞ –∫—û–ø—Ä–æ“õ —Ç–∞—Ä“õ–∞–ª–∞–¥–∏. –ë—É –æ–ø—Ç–∏–∫–∞–Ω–∏–Ω–≥ –∞—Å–æ—Å–∏–π “õ–æ–Ω—É–Ω–ª–∞—Ä–∏–¥–∞–Ω –±–∏—Ä–∏.",
                    learn: "üìö –°–∞–º–∞—Ä–∞–ª–∏ —û—Ä–≥–∞–Ω–∏—à –º–µ—Ç–æ–¥–ª–∞—Ä–∏: 1) –§—ç–π–Ω–º–∞–Ω —Ç–µ—Ö–Ω–∏–∫–∞—Å–∏ - –º–∞–≤–∑—É–Ω–∏ –±–æ—à“õ–∞–≥–∞ —Ç—É—à—É–Ω—Ç–∏—Ä–∏—à 2) –ê–∫—Ç–∏–≤–Ω—ã–π —Ç–∞–∫—Ä–æ—Ä–ª–∞—à (spaced repetition) 3) –ü–æ–º–æ—Ä–æ —Ç–µ—Ö–Ω–∏–∫–∞—Å–∏ - 25 –¥–∞“õ–∏“õ–∞ –∏—à–ª–∞—à, 5 –¥–∞“õ–∏“õ–∞ –¥–∞–º 4) –ú—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä —ë–Ω–¥–∞—à—É–≤–∏ - –∫—û—Ä–∏—à, —ç—à–∏—Ç–∏—à, –∞–º–∞–ª–∏–π “õ–∏–ª–∏—à",
                    default: "üî¨ –°–∏–∑–Ω–∏–Ω–≥ —Å–∞–≤–æ–ª–∏–Ω–≥–∏–∑ –∏–ª–º–∏–π —Ç–∞–¥“õ–∏“õ–æ—Ç–ª–∞—Ä–≥–∞ –º–æ—Å. –ë—É –º–∞–≤–∑—É–Ω–∏ —á—É“õ—É—Ä—Ä–æ“õ —û—Ä–≥–∞–Ω–∏—à —É—á—É–Ω –∞–∫–∞–¥–µ–º–∏–∫ –º–∞–Ω–±–∞–ª–∞—Ä–Ω–∏ –∫—û—Ä–∏–Ω–≥, —ç–∫—Å–ø–µ—Ä—Ç —Ñ–∏–∫—Ä–ª–∞—Ä–∏–Ω–∏ —û“õ–∏–Ω–≥ –≤–∞ –∞–º–∞–ª–∏–π —Ç–∞–∂—Ä–∏–±–∞–ª–∞—Ä —û—Ç–∫–∞–∑–∏–Ω–≥."
                },
                ru: {
                    sky: "üåå –°–∏–Ω–∏–π —Ü–≤–µ—Ç –Ω–µ–±–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —è–≤–ª–µ–Ω–∏–µ–º, –Ω–∞–∑—ã–≤–∞–µ–º—ã–º —Ä–∞—Å—Å–µ—è–Ω–∏–µ–º –†—ç–ª–µ—è. –ö–æ–≥–¥–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–π —Å–≤–µ—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, —Å–∏–Ω—è—è –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã (400-450 –Ω–º) –±–æ–ª—å—à–µ —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è –º–µ–ª–∫–∏–º–∏ —á–∞—Å—Ç–∏—Ü–∞–º–∏. –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–≤ –æ–ø—Ç–∏–∫–∏.",
                    learn: "üìö –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è: 1) –¢–µ—Ö–Ω–∏–∫–∞ –§–µ–π–Ω–º–∞–Ω–∞ - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –¥—Ä—É–≥–æ–º—É 2) –ê–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ (spaced repetition) 3) –¢–µ—Ö–Ω–∏–∫–∞ –ü–æ–º–æ–¥–æ—Ä–æ - 25 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã, 5 –º–∏–Ω—É—Ç –æ—Ç–¥—ã—Ö–∞ 4) –ú—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - –∑—Ä–µ–Ω–∏–µ, —Å–ª—É—Ö, –ø—Ä–∞–∫—Ç–∏–∫–∞",
                    default: "üî¨ –í–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—É—á–Ω–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–π —Ç–µ–º—ã –∏–∑—É—á–∞–π—Ç–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, —á–∏—Ç–∞–π—Ç–µ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –º–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã."
                },
                en: {
                    sky: "üåå The blue color of the sky is explained by a physical phenomenon called Rayleigh scattering. When sunlight hits the atmosphere, the blue wavelength (400-450 nm) is scattered more by small particles. This is one of the basic laws of optics.",
                    learn: "üìö Effective learning methods: 1) Feynman technique - explaining the topic to another 2) Spaced repetition 3) Pomodoro technique - 25 minutes work, 5 minutes rest 4) Multisensory approach - vision, hearing, practice",
                    default: "üî¨ Your question is suitable for scientific research. For deep study of this topic, study academic sources, read expert opinions and conduct practical experiments."
                }
            };
            
            if (lowerQuestion.includes('–Ω–µ–±–æ') || lowerQuestion.includes('—Å–∏–Ω–µ–µ') || lowerQuestion.includes('sky') || lowerQuestion.includes('blue') || lowerQuestion.includes('–æ—Å–º–æ–Ω') || lowerQuestion.includes('–∫—û–∫')) {
                return answers[currentLanguage].sky;
            } else if (lowerQuestion.includes('—É—á–∏—Ç—å—Å—è') || lowerQuestion.includes('learn') || lowerQuestion.includes('—û—Ä–≥–∞–Ω')) {
                return answers[currentLanguage].learn;
            } else {
                return answers[currentLanguage].default;
            }
        }
        
        function generateSeniorAnswer(question, lowerQuestion) {
            const answers = {
                uz: {
                    sky: "üåå “≤—É—Ä–º–∞—Ç–ª–∏ –¥—û—Å—Ç–∏–º, –æ—Å–º–æ–Ω–Ω–∏–Ω–≥ –∫—û–∫–ª–∏–≥–∏ —Ç–∞–±–∏–∞—Ç–Ω–∏–Ω–≥ –∞–∂–æ–π–∏–± “≥–∏–∫–º–∞—Ç–ª–∞—Ä–∏–¥–∞–Ω –±–∏—Ä–∏. –ë—É –†—ç–ª–µ–π —Å–æ—á–∏–ª–∏—à–∏ –¥–µ–± –Ω–æ–º–ª–∞–Ω—É–≤—á–∏ —Ñ–∏–∑–∏–∫ –∂–∞—Ä–∞—ë–Ω - “õ—É—ë—à –Ω—É—Ä–∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞–¥–∞–≥–∏ –∑–∞—Ä—Ä–∞—á–∞–ª–∞—Ä–≥–∞ —É—Ä–∏–ª–≥–∞–Ω–¥–∞ –∫—û–∫ –Ω—É—Ä –∫—û–ø—Ä–æ“õ —Ç–∞—Ä“õ–∞–ª–∞–¥–∏. –ó–∞–º–æ–Ω–∞–≤–∏–π –∏–ª–º-—Ñ–∞–Ω–¥–∞ –±—É –∂—É–¥–∞ —è—Ö—à–∏ —û—Ä–≥–∞–Ω–∏–ª–≥–∞–Ω.",
                    learn: "üìö –Å—à–ª–∞—Ä–¥–∞ —û—Ä–≥–∞–Ω–∏—à - –±—É –∫–∞—Ç—Ç–∞ –Ω–µ—ä–º–∞—Ç! –¢–∞–≤—Å–∏—è–ª–∞—Ä: 1) –°–µ–∫–∏–Ω-–∞—Å—Ç–∞, –∑—û—Ä–∏“õ–º–∞—Å–¥–∞–Ω 2) “ö–∏–∑–∏“õ–∞—Ä–ª–∏ –º–∞–≤–∑—É–ª–∞—Ä–Ω–∏ —Ç–∞–Ω–ª–∞–Ω–≥ 3) –ú—É–Ω—Ç–∞–∑–∞–º —Ç–∞–∫—Ä–æ—Ä “õ–∏–ª–∏–Ω–≥ 4) –ë–æ—à“õ–∞–ª–∞—Ä –±–∏–ª–∞–Ω –º—É“≥–æ–∫–∞–º–∞ “õ–∏–ª–∏–Ω–≥ 5) –ê–º–∞–ª–∏–π “õ—û–ª–ª–∞–Ω–∏—à–≥–∞ —ç—ä—Ç–∏–±–æ—Ä –±–µ—Ä–∏–Ω–≥",
                    default: "üí≠ –°–∏–∑–Ω–∏–Ω–≥ —Å–∞–≤–æ–ª–∏–Ω–≥–∏–∑ –∫–µ–Ω–≥ —Ç–∞–∂—Ä–∏–±–∞ –≤–∞ –¥–∞–Ω–∞–ª–∏–∫ —Ç–∞–ª–∞–± “õ–∏–ª–∞–¥–∏. “≤–∞—ë—Ç–∏–π —Ç–∞–∂—Ä–∏–±–∞ –±–∏–ª–∞–Ω –∏–ª–º–∏–π –±–∏–ª–∏–º–ª–∞—Ä–Ω–∏ –±–∏—Ä–ª–∞—à—Ç–∏—Ä–∏–±, —á—É“õ—É—Ä –º—É“≥–æ–∫–∞–º–∞ “õ–∏–ª–∏—à –∫–µ—Ä–∞–∫–ª–∏–≥–∏–Ω–∏ —ç—Å–≥–∞ –æ–ª–∏–Ω–≥."
                },
                ru: {
                    sky: "üåå –£–≤–∞–∂–∞–µ–º—ã–π –¥—Ä—É–≥, —Å–∏–Ω–µ–≤–∞ –Ω–µ–±–∞ - –æ–¥–Ω–∞ –∏–∑ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –º—É–¥—Ä–æ—Å—Ç–µ–π –ø—Ä–∏—Ä–æ–¥—ã. –≠—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –Ω–∞–∑—ã–≤–∞–µ–º—ã–π —Ä–∞—Å—Å–µ—è–Ω–∏–µ–º –†—ç–ª–µ—è - –∫–æ–≥–¥–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–π —Å–≤–µ—Ç —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ, —Å–∏–Ω–∏–π —Å–≤–µ—Ç —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è –±–æ–ª—å—à–µ. –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–∞—É–∫–µ —ç—Ç–æ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –∏–∑—É—á–µ–Ω–æ.",
                    learn: "üìö –û–±—É—á–µ–Ω–∏–µ –≤ –∑—Ä–µ–ª–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ - –±–æ–ª—å—à–æ–µ –±–ª–∞–≥–æ! –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: 1) –ú–µ–¥–ª–µ–Ω–Ω–æ, –±–µ–∑ –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏—è 2) –í—ã–±–∏—Ä–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ–º—ã 3) –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–æ–≤—Ç–æ—Ä—è–π—Ç–µ 4) –û–±—Å—É–∂–¥–∞–π—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ 5) –û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ",
                    default: "üí≠ –í–∞—à –≤–æ–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç —à–∏—Ä–æ–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –∏ –º—É–¥—Ä–æ—Å—Ç–∏. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –æ–ø—ã—Ç —Å –Ω–∞—É—á–Ω—ã–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è."
                },
                en: {
                    sky: "üåå Dear friend, the blueness of the sky is one of nature's amazing wisdoms. This is a physical process called Rayleigh scattering - when sunlight collides with particles in the atmosphere, blue light scatters more. In modern science, this is very well studied.",
                    learn: "üìö Learning at a mature age is a great blessing! Recommendations: 1) Slowly, without coercion 2) Choose interesting topics 3) Review regularly 4) Discuss with others 5) Pay attention to practical application",
                    default: "üí≠ Your question requires broad experience and wisdom. Remember to combine life experience with scientific knowledge for deep discussion."
                }
            };
            
            if (lowerQuestion.includes('–Ω–µ–±–æ') || lowerQuestion.includes('—Å–∏–Ω–µ–µ') || lowerQuestion.includes('sky') || lowerQuestion.includes('blue') || lowerQuestion.includes('–æ—Å–º–æ–Ω') || lowerQuestion.includes('–∫—û–∫')) {
                return answers[currentLanguage].sky;
            } else if (lowerQuestion.includes('—É—á–∏—Ç—å—Å—è') || lowerQuestion.includes('learn') || lowerQuestion.includes('—û—Ä–≥–∞–Ω')) {
                return answers[currentLanguage].learn;
            } else {
                return answers[currentLanguage].default;
            }
        }
        
        function generateAdultAnswer(question, lowerQuestion) {
            const answers = {
                uz: {
                    sky: "üåå –û—Å–º–æ–Ω–Ω–∏–Ω–≥ –∫—û–∫ —Ä–∞–Ω–≥–¥–∞ –∫—û—Ä–∏–Ω–∏—à–∏ –†—ç–ª–µ–π —Å–æ—á–∏–ª–∏—à–∏ –¥–µ–± –Ω–æ–º–ª–∞–Ω—É–≤—á–∏ –æ–ø—Ç–∏–∫ “≥–æ–¥–∏—Å–∞ –Ω–∞—Ç–∏–∂–∞—Å–∏–¥–∏—Ä. “ö—É—ë—à –Ω—É—Ä–∏ (—ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç —Å–ø–µ–∫—Ç—Ä–∏) –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞–≥–∞ –∫–∏—Ä–≥–∞–Ω–¥–∞, —Ç—É—Ä–ª–∏ —Ç—û–ª“õ–∏–Ω —É–∑—É–Ω–ª–∏–∫–ª–∞—Ä–∏ —Ç—É—Ä–ª–∏—á–∞ —Ç–∞—Ä“õ–∞–ª–∞–¥–∏. –ö—û–∫ –Ω—É—Ä (Œª ‚âà 475 –Ω–º) –º–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä –≤–∞ –∞—ç—Ä–æ–∑–æ–ª—å–ª–∞—Ä–≥–∞ –∫—û–ø—Ä–æ“õ —Ç–∞—Ä“õ–∞–ª–∞–¥–∏, —á—É–Ω–∫–∏ —Ç–∞—Ä“õ–∞–ª–∏—à –¥–∞—Ä–∞–∂–∞—Å–∏ —Ç—û–ª“õ–∏–Ω —É–∑—É–Ω–ª–∏–≥–∏–Ω–∏–Ω–≥ —Ç—û—Ä—Ç–∏–Ω—á–∏ –¥–∞—Ä–∞–∂–∞—Å–∏–≥–∞ —Ç–µ—Å–∫–∞—Ä–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª (‚àù Œª‚Åª‚Å¥).",
                    learn: "üìö –ó–∞–º–æ–Ω–∞–≤–∏–π —û—Ä–≥–∞–Ω–∏—à –º–µ—Ç–æ–¥–ª–∞—Ä–∏: 1) –ú–µ—Ç–∞–∫–æ–≥–Ω–∏—Ü–∏—è - —û–∑ —û—Ä–≥–∞–Ω–∏—à –∂–∞—Ä–∞—ë–Ω–∏–Ω–≥–∏–∑–Ω–∏ –±–æ—à“õ–∞—Ä–∏—à 2) –≠–ª–∞–±–æ—Ä–∞—Ç–∏–≤ –¥–∞—Å—Ç–ª–∞—à - —è–Ω–≥–∏ –±–∏–ª–∏–º–ª–∞—Ä–Ω–∏ –º–∞–≤–∂—É–¥–ª–∞—Ä–∏ –±–∏–ª–∞–Ω –±–æ“ì–ª–∞—à 3) –ò–Ω—Ç–µ—Ä–ª–∏–≤–∏–Ω–≥ - —Ç—É—Ä–ª–∏ –º–∞–≤–∑—É–ª–∞—Ä–Ω–∏ –Ω–∞–≤–±–∞—Ç–ª–∞—à–∏–± —û—Ä–≥–∞–Ω–∏—à 4) –ê–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç–∏–Ω–≥ - —û–∑-—û–∑–∏–Ω–∏ —Å–∏–Ω–∞–± –∫—û—Ä–∏—à 5) –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ –∞–º–∞–ª–∏—ë—Ç - —É–∑–æ“õ –º—É–¥–¥–∞—Ç–ª–∏ —Ö–æ—Ç–∏—Ä–∞–¥–∞ —Å–∞“õ–ª–∞—à",
                    default: "üî¨ –°–∏–∑–Ω–∏–Ω–≥ —Å–∞–≤–æ–ª–∏–Ω–≥–∏–∑ –º—É–ª—å—Ç–∏–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä —ë–Ω–¥–∞—à—É–≤–Ω–∏ —Ç–∞–ª–∞–± “õ–∏–ª–∞–¥–∏. Universal TERRA —Ç–∏–∑–∏–º–∏ –æ—Ä“õ–∞–ª–∏ —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è –º–µ—Ç–∞–Ω–∞—É–∫–∞ –ø—Ä–∏–Ω—Ü–∏–ø–ª–∞—Ä–∏–Ω–∏ “õ—û–ª–ª–∞–±, —Ç—É—Ä–ª–∏ —Ñ–∞–Ω–ª–∞—Ä –æ—Ä–∞—Å–∏–¥–∞–≥–∏ –±–æ“ì–ª–∏“õ–ª–∏–∫–ª–∞—Ä–Ω–∏ —û—Ä–≥–∞–Ω–∏—à –º—É–º–∫–∏–Ω."
                },
                ru: {
                    sky: "üåå –°–∏–Ω–∏–π —Ü–≤–µ—Ç –Ω–µ–±–∞ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–≤–ª–µ–Ω–∏—è, –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ —Ä–∞—Å—Å–µ—è–Ω–∏–µ–º –†—ç–ª–µ—è. –ö–æ–≥–¥–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–π —Å–≤–µ—Ç (—ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–π —Å–ø–µ–∫—Ç—Ä) –≤—Ö–æ–¥–∏—Ç –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω —Ä–∞—Å—Å–µ–∏–≤–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É. –°–∏–Ω–∏–π —Å–≤–µ—Ç (Œª ‚âà 475 –Ω–º) –±–æ–ª—å—à–µ —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è –º–æ–ª–µ–∫—É–ª–∞–º–∏ –∏ –∞—ç—Ä–æ–∑–æ–ª—è–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É —Å—Ç–µ–ø–µ–Ω—å —Ä–∞—Å—Å–µ—è–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —á–µ—Ç–≤–µ—Ä—Ç–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã (‚àù Œª‚Åª‚Å¥).",
                    learn: "üìö –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è: 1) –ú–µ—Ç–∞–∫–æ–≥–Ω–∏—Ü–∏—è - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –æ–±—É—á–µ–Ω–∏—è 2) –≠–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ - —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ 3) –ò–Ω—Ç–µ—Ä–ª–∏–≤–∏–Ω–≥ - —á–µ—Ä–µ–¥—É—é—â–µ–µ—Å—è –∏–∑—É—á–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º 4) –ê–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ 5) –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - —É–¥–µ—Ä–∂–∞–Ω–∏–µ –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏",
                    default: "üî¨ –í–∞—à –≤–æ–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç –º—É–ª—å—Ç–∏–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –ß–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É Universal TERRA, –ø—Ä–∏–º–µ–Ω—è—è –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–π –º–µ—Ç–∞–Ω–∞—É–∫–∏, –º–æ–∂–Ω–æ –∏–∑—É—á–∞—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–∞—É–∫–∞–º–∏."
                },
                en: {
                    sky: "üåå The blue color of the sky is the result of an optical phenomenon called Rayleigh scattering. When sunlight (electromagnetic spectrum) enters the atmosphere, different wavelengths scatter differently. Blue light (Œª ‚âà 475 nm) scatters more on molecules and aerosols, since the degree of scattering is inversely proportional to the fourth power of the wavelength (‚àù Œª‚Åª‚Å¥).",
                    learn: "üìö Modern learning methods: 1) Metacognition - managing your learning process 2) Elaborative processing - linking new knowledge with existing 3) Interleaving - alternating study of different topics 4) Active testing - self-checking 5) Distributed practice - retention in long-term memory",
                    default: "üî¨ Your question requires a multidisciplinary approach. Through the Universal TERRA system, applying the principles of fractal metascience, you can study the connections between different sciences."
                }
            };
            
            if (lowerQuestion.includes('–Ω–µ–±–æ') || lowerQuestion.includes('—Å–∏–Ω–µ–µ') || lowerQuestion.includes('sky') || lowerQuestion.includes('blue') || lowerQuestion.includes('–æ—Å–º–æ–Ω') || lowerQuestion.includes('–∫—û–∫')) {
                return answers[currentLanguage].sky;
            } else if (lowerQuestion.includes('—É—á–∏—Ç—å—Å—è') || lowerQuestion.includes('learn') || lowerQuestion.includes('—û—Ä–≥–∞–Ω')) {
                return answers[currentLanguage].learn;
            } else {
                return answers[currentLanguage].default;
            }
        }
        
        function displayAnswer(answer) {
            const resultsContent = document.getElementById('resultsContent');
            
            resultsContent.innerHTML = `
                <div class="answer-simple">
                    <div class="answer-title">
                        ${currentLanguage === 'uz' ? 'üí° –ñ–∞–≤–æ–±' : 
                          currentLanguage === 'ru' ? 'üí° –û—Ç–≤–µ—Ç' : 'üí° Answer'}
                    </div>
                    <div class="answer-text">${answer}</div>
                </div>
                
                <div class="answer-simple" style="margin-top: 20px; background: #E8F5E8;">
                    <div class="answer-title" style="color: #2E7D32;">
                        ${currentLanguage === 'uz' ? 'üéØ –ö–µ–π–∏–Ω–≥–∏ “õ–∞–¥–∞–º' : 
                          currentLanguage === 'ru' ? 'üéØ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥' : 'üéØ Next step'}
                    </div>
                    <div class="answer-text">
                        ${currentLanguage === 'uz' ? '–ê–≥–∞—Ä –±–æ—à“õ–∞ —Å–∞–≤–æ–ª–∏–Ω–≥–∏–∑ –±—û–ª—Å–∞, —ë–∫–∏ –±—É –º–∞–≤–∑—É–Ω–∏ —á—É“õ—É—Ä—Ä–æ“õ —û—Ä–≥–∞–Ω–º–æ“õ—á–∏ –±—û–ª—Å–∞–Ω–≥–∏–∑ - “õ—û—à–∏–º—á–∞ —Å–∞–≤–æ–ª –±–µ—Ä–∏–Ω–≥!' : 
                          currentLanguage === 'ru' ? '–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑—É—á–∏—Ç—å —ç—Ç—É —Ç–µ–º—É –≥–ª—É–±–∂–µ - –∑–∞–¥–∞–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å!' : 
                          'If you have other questions or want to study this topic deeper - ask an additional question!'}
                    </div>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞
            showVisualization();
        }
        
        // === –°–ò–°–¢–ï–ú–ê –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò –ó–ù–ê–ù–ò–ô ===
        
        let currentVisualization = 'mycelium';
        let vizSoundEnabled = false;
        let currentQuestionAnalysis = null;
        
        function showVisualization() {
            const visualizationPanel = document.getElementById('visualizationPanel');
            visualizationPanel.style.display = 'block';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
                visualizationPanel.style.opacity = '0';
                visualizationPanel.style.transform = 'translateY(20px)';
                visualizationPanel.style.transition = 'all 0.5s ease';
                
                setTimeout(() => {
                    visualizationPanel.style.opacity = '1';
                    visualizationPanel.style.transform = 'translateY(0)';
                }, 100);
            }, 300);
            
            // –ó–∞–ø—É—Å–∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            setTimeout(() => {
                showMyceliumNetwork();
            }, 800);
        }
        
        // === –ú–ò–¶–ï–õ–ò–ô-–°–ï–¢–¨ –°–í–Ø–ó–ï–ô ===
        function showMyceliumNetwork() {
            updateVizButtons('mycelium');
            
            const container = document.getElementById('vizContainer');
            container.innerHTML = '<div class="loading-indicator"><div class="loading-spinner"></div><span>–°–æ–∑–¥–∞—ë—Ç—Å—è –º–∏—Ü–µ–ª–∏–π-—Å–µ—Ç—å...</span></div>';
            
            setTimeout(() => {
                createMyceliumVisualization(container);
                if (vizSoundEnabled) playVizSound('network');
            }, 1000);
        }
        
        function createMyceliumVisualization(container) {
            const question = document.getElementById('questionInput').value.toLowerCase();
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ–º–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ø—Ä–æ—Å–∞
            const domains = detectQuestionDomains(question);
            
            container.innerHTML = '';
            container.className = 'viz-container mycelium-network';
            
            // –°–æ–∑–¥–∞—ë–º —É–∑–ª—ã –∏ —Å–≤—è–∑–∏
            const nodes = createMyceliumNodes(domains, container);
            createMyceliumConnections(nodes, container);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            addMyceliumInteractivity(nodes);
        }
        
        function detectQuestionDomains(question) {
            const domains = {
                cosmic: { active: false, label: '–ö–æ—Å–º–æ—Å', color: '#4A90E2', position: { x: 50, y: 20 } },
                biology: { active: false, label: '–ë–∏–æ–ª–æ–≥–∏—è', color: '#7ED321', position: { x: 20, y: 50 } },
                culture: { active: false, label: '–ö—É–ª—å—Ç—É—Ä–∞', color: '#F5A623', position: { x: 80, y: 50 } },
                technology: { active: false, label: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', color: '#D0021B', position: { x: 50, y: 80 } },
                history: { active: false, label: '–ò—Å—Ç–æ—Ä–∏—è', color: '#9013FE', position: { x: 15, y: 80 } },
                learning: { active: false, label: '–û–±—É—á–µ–Ω–∏–µ', color: '#50E3C2', position: { x: 85, y: 20 } }
            };
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –¥–æ–º–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
            if (question.includes('–Ω–µ–±–æ') || question.includes('–∑–≤–µ–∑–¥') || question.includes('sky') || question.includes('–æ—Å–º–æ–Ω')) {
                domains.cosmic.active = true;
                domains.technology.active = true;
            }
            
            if (question.includes('—É—á–∏—Ç') || question.includes('learn') || question.includes('—û—Ä–≥–∞–Ω')) {
                domains.learning.active = true;
                domains.culture.active = true;
                domains.history.active = true;
            }
            
            if (question.includes('–∂–∏–∑–Ω') || question.includes('life') || question.includes('—Ö–∞—ë—Ç')) {
                domains.biology.active = true;
                domains.cosmic.active = true;
            }
            
            // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã
            const activeCount = Object.values(domains).filter(d => d.active).length;
            if (activeCount === 0) {
                domains.learning.active = true;
                domains.culture.active = true;
                domains.technology.active = true;
            }
            
            return domains;
        }
        
        function createMyceliumNodes(domains, container) {
            const nodes = [];
            
            Object.keys(domains).forEach(key => {
                const domain = domains[key];
                if (domain.active) {
                    const node = document.createElement('div');
                    node.className = 'mycelium-node';
                    node.style.left = domain.position.x + '%';
                    node.style.top = domain.position.y + '%';
                    node.style.background = `radial-gradient(circle, ${domain.color} 0%, ${domain.color}AA 100%)`;
                    node.setAttribute('data-domain', key);
                    node.setAttribute('data-label', domain.label);
                    
                    // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É —É–∂–µ –≤ CSS
                    node.innerHTML = getNodeIcon(key);
                    
                    container.appendChild(node);
                    nodes.push({ element: node, domain: key, data: domain });
                }
            });
            
            return nodes;
        }
        
        function getNodeIcon(domain) {
            const icons = {
                cosmic: 'üåå',
                biology: 'üß¨',
                culture: 'üèõÔ∏è',
                technology: 'ü§ñ',
                history: 'üìú',
                learning: 'üß†'
            };
            return icons[domain] || 'üî¨';
        }
        
        function createMyceliumConnections(nodes, container) {
            // –°–æ–∑–¥–∞—ë–º —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const connection = createConnection(nodes[i], nodes[j]);
                    if (connection) {
                        container.appendChild(connection);
                    }
                }
            }
        }
        
        function createConnection(node1, node2) {
            const rect1 = node1.element.getBoundingClientRect();
            const rect2 = node2.element.getBoundingClientRect();
            const containerRect = node1.element.parentElement.getBoundingClientRect();
            
            const x1 = rect1.left + rect1.width/2 - containerRect.left;
            const y1 = rect1.top + rect1.height/2 - containerRect.top;
            const x2 = rect2.left + rect2.width/2 - containerRect.left;
            const y2 = rect2.top + rect2.height/2 - containerRect.top;
            
            const connection = document.createElement('div');
            connection.className = 'mycelium-connection';
            
            const length = Math.sqrt((x2-x1)**2 + (y2-y1)**2);
            const angle = Math.atan2(y2-y1, x2-x1) * 180 / Math.PI;
            
            connection.style.width = length + 'px';
            connection.style.height = '3px';
            connection.style.left = x1 + 'px';
            connection.style.top = y1 + 'px';
            connection.style.transformOrigin = '0 50%';
            connection.style.transform = `rotate(${angle}deg)`;
            
            return connection;
        }
        
        function addMyceliumInteractivity(nodes) {
            const tooltip = document.getElementById('vizTooltip');
            
            nodes.forEach(node => {
                const element = node.element;
                
                element.addEventListener('mouseenter', function(e) {
                    const connections = getConnectionsText(node.domain);
                    showTooltip(e, `${node.data.label}\n${connections}`);
                    
                    if (vizSoundEnabled) playVizSound('hover');
                });
                
                element.addEventListener('mouseleave', function() {
                    hideTooltip();
                });
                
                element.addEventListener('click', function(e) {
                    exploreNodeDetails(node.domain);
                    if (vizSoundEnabled) playVizSound('click');
                });
            });
        }
        
        function getConnectionsText(domain) {
            const connections = {
                cosmic: currentLanguage === 'uz' ? '–§–∏–∑–∏–∫–∞, –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                       currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –§–∏–∑–∏–∫–æ–π, –ú–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π, –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏' :
                       'Connected to Physics, Mathematics, Technology',
                biology: currentLanguage === 'uz' ? '–•–∏–º–∏—è, –ú–µ–¥–∏—Ü–∏–Ω–∞, –≠–∫–æ–ª–æ–≥–∏—è –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                        currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –•–∏–º–∏–µ–π, –ú–µ–¥–∏—Ü–∏–Ω–æ–π, –≠–∫–æ–ª–æ–≥–∏–µ–π' :
                        'Connected to Chemistry, Medicine, Ecology',
                culture: currentLanguage === 'uz' ? '–¢–∞—Ä–∏—Ö, –¢–∏–ª, –°–∞–Ω—ä–∞—Ç –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                        currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –ò—Å—Ç–æ—Ä–∏–µ–π, –Ø–∑—ã–∫–æ–º, –ò—Å–∫—É—Å—Å—Ç–≤–æ–º' :
                        'Connected to History, Language, Arts',
                technology: currentLanguage === 'uz' ? '–ú—É“≥–∞–Ω–¥–∏—Å–ª–∏–∫, IT, –ò–Ω–Ω–æ–≤–∞—Ü–∏—è –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                           currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –ò–Ω–∂–µ–Ω–µ—Ä–∏–µ–π, IT, –ò–Ω–Ω–æ–≤–∞—Ü–∏—è–º–∏' :
                           'Connected to Engineering, IT, Innovation',
                history: currentLanguage === 'uz' ? '–ê—Ä—Ö–µ–æ–ª–æ–≥–∏—è, –ö—É–ª—å—Ç—É—Ä–∞, –ñ–∞–º–∏—è—Ç –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                        currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –ê—Ä—Ö–µ–æ–ª–æ–≥–∏–µ–π, –ö—É–ª—å—Ç—É—Ä–æ–π, –û–±—â–µ—Å—Ç–≤–æ–º' :
                        'Connected to Archaeology, Culture, Society',
                learning: currentLanguage === 'uz' ? '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ù–µ–π—Ä–æ–Ω–∞—É–∫–∞, –ü–µ–¥–∞–≥–æ–≥–∏–∫–∞ –±–∏–ª–∞–Ω –±–æ“ì–ª–∞–Ω–≥–∞–Ω' :
                         currentLanguage === 'ru' ? '–°–≤—è–∑–∞–Ω —Å –ü—Å–∏—Ö–æ–ª–æ–≥–∏–µ–π, –ù–µ–π—Ä–æ–Ω–∞—É–∫–æ–π, –ü–µ–¥–∞–≥–æ–≥–∏–∫–æ–π' :
                         'Connected to Psychology, Neuroscience, Pedagogy'
            };
            return connections[domain] || '';
        }
        
        // === –í–†–ï–ú–ï–ù–ù–ê–Ø –°–ü–ò–†–ê–õ–¨ ===
        function showTimeSpiral() {
            updateVizButtons('timeSpiral');
            
            const container = document.getElementById('vizContainer');
            container.innerHTML = '<div class="loading-indicator"><div class="loading-spinner"></div><span>–°–æ–∑–¥–∞—ë—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ø–∏—Ä–∞–ª—å...</span></div>';
            
            setTimeout(() => {
                createTimeSpiralVisualization(container);
                if (vizSoundEnabled) playVizSound('spiral');
            }, 1000);
        }
        
        function createTimeSpiralVisualization(container) {
            container.innerHTML = '';
            container.className = 'viz-container time-spiral';
            
            const periods = [
                { name: '–ü–∞–ª–µ–æ–ª–∏—Ç', year: '100,000 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 0, radius: 60, uz: '–ü–∞–ª–µ–æ–ª–∏—Ç', en: 'Paleolithic' },
                { name: '–ù–µ–æ–ª–∏—Ç', year: '10,000 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 45, radius: 80, uz: '–ù–µ–æ–ª–∏—Ç', en: 'Neolithic' },
                { name: '–ë—Ä–æ–Ω–∑–∞', year: '5,000 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 90, radius: 100, uz: '–ë—Ä–æ–Ω–∑–∞', en: 'Bronze Age' },
                { name: '–ê–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', year: '2,500 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 135, radius: 120, uz: '–ê–Ω—Ç–∏“õ–∞', en: 'Antiquity' },
                { name: '–ò—Å–ª–∞–º', year: '1,200 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 180, radius: 140, uz: '–ò—Å–ª–æ–º', en: 'Islamic Era' },
                { name: '–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ', year: '600 –ª–µ—Ç –Ω–∞–∑–∞–¥', angle: 225, radius: 160, uz: '–†–µ–Ω–µ—Å—Å–∞–Ω—Å', en: 'Renaissance' },
                { name: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å', year: '–°–µ–≥–æ–¥–Ω—è', angle: 270, radius: 180, uz: '–ó–∞–º–æ–Ω–∞–≤–∏–π–ª–∏–∫', en: 'Modern Era' },
                { name: '–ë—É–¥—É—â–µ–µ', year: '–ó–∞–≤—Ç—Ä–∞', angle: 315, radius: 200, uz: '–ö–µ–ª–∞–∂–∞–∫', en: 'Future' }
            ];
            
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;
            
            periods.forEach((period, index) => {
                const element = createTimePeriod(period, centerX, centerY, index);
                container.appendChild(element);
                
                // –°–æ–∑–¥–∞—ë–º —Å–ø–∏—Ä–∞–ª—å–Ω—É—é —Å–≤—è–∑—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º
                if (index > 0) {
                    const connection = createSpiralConnection(periods[index-1], period, centerX, centerY);
                    container.appendChild(connection);
                }
            });
        }
        
        function createTimePeriod(period, centerX, centerY, index) {
            const element = document.createElement('div');
            element.className = 'time-period';
            
            const radian = (period.angle * Math.PI) / 180;
            const x = centerX + Math.cos(radian) * period.radius - 60;
            const y = centerY + Math.sin(radian) * period.radius - 20;
            
            element.style.left = x + 'px';
            element.style.top = y + 'px';
            element.style.animationDelay = (index * 0.2) + 's';
            
            const name = currentLanguage === 'uz' ? period.uz :
                        currentLanguage === 'ru' ? period.name :
                        period.en;
            
            element.innerHTML = `<div style="font-size: 12px; font-weight: bold;">${name}</div>
                               <div style="font-size: 10px; opacity: 0.8;">${period.year}</div>`;
            
            element.addEventListener('click', () => exploreHistoricalPeriod(period));
            
            return element;
        }
        
        function createSpiralConnection(period1, period2, centerX, centerY) {
            // –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–ø–∏—Ä–∞–ª—å–Ω–æ–π —Å–≤—è–∑–∏
            const connection = document.createElement('div');
            connection.className = 'time-connection';
            connection.style.background = 'rgba(255,255,255,0.3)';
            connection.style.height = '2px';
            connection.style.width = '30px';
            
            const radian1 = (period1.angle * Math.PI) / 180;
            const x1 = centerX + Math.cos(radian1) * period1.radius;
            const y1 = centerY + Math.sin(radian1) * period1.radius;
            
            connection.style.left = x1 + 'px';
            connection.style.top = y1 + 'px';
            
            return connection;
        }
        
        // === –§–†–ê–ö–¢–ê–õ–¨–ù–´–ï –£–†–û–í–ù–ò ===
        function showFractalLevels() {
            updateVizButtons('fractal');
            
            const container = document.getElementById('vizContainer');
            container.innerHTML = '<div class="loading-indicator"><div class="loading-spinner"></div><span>–°–æ–∑–¥–∞—é—Ç—Å—è —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏...</span></div>';
            
            setTimeout(() => {
                createFractalVisualization(container);
                if (vizSoundEnabled) playVizSound('fractal');
            }, 1000);
        }
        
        function createFractalVisualization(container) {
            container.innerHTML = '';
            container.className = 'viz-container fractal-container';
            
            const levels = [
                { name: '–ö–≤–∞–Ω—Ç–æ–≤—ã–π', scale: 0.8, x: 50, y: 85, uz: '–ö–≤–∞–Ω—Ç', en: 'Quantum' },
                { name: '–ú–æ–ª–µ–∫—É–ª—è—Ä–Ω—ã–π', scale: 1.0, x: 35, y: 70, uz: '–ú–æ–ª–µ–∫—É–ª–∞', en: 'Molecular' },
                { name: '–ö–ª–µ—Ç–æ—á–Ω—ã–π', scale: 1.2, x: 65, y: 70, uz: '“≤—É–∂–∞–π—Ä–∞', en: 'Cellular' },
                { name: '–û—Ä–≥–∞–Ω–∏–∑–º', scale: 1.4, x: 25, y: 50, uz: '–û—Ä–≥–∞–Ω–∏–∑–º', en: 'Organism' },
                { name: '–°–æ—Ü–∏–∞–ª—å–Ω—ã–π', scale: 1.6, x: 75, y: 50, uz: '–ñ–∞–º–∏—è—Ç', en: 'Social' },
                { name: '–ö—É–ª—å—Ç—É—Ä–Ω—ã–π', scale: 1.8, x: 40, y: 30, uz: '–ú–∞–¥–∞–Ω–∏—è—Ç', en: 'Cultural' },
                { name: '–ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–π', scale: 2.0, x: 60, y: 30, uz: '–ü–ª–∞–Ω–µ—Ç–∞', en: 'Planetary' },
                { name: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π', scale: 2.2, x: 50, y: 15, uz: '–ö–æ—Å–º–æ—Å', en: 'Cosmic' }
            ];
            
            levels.forEach((level, index) => {
                const element = createFractalLevel(level, index);
                container.appendChild(element);
            });
        }
        
        function createFractalLevel(level, index) {
            const element = document.createElement('div');
            element.className = 'fractal-level';
            
            element.style.left = level.x + '%';
            element.style.top = level.y + '%';
            element.style.transform = `scale(${level.scale})`;
            element.style.animationDelay = (index * 0.15) + 's';
            
            const name = currentLanguage === 'uz' ? level.uz :
                        currentLanguage === 'ru' ? level.name :
                        level.en;
            
            element.textContent = name;
            
            element.addEventListener('click', () => exploreFractalLevel(level));
            
            return element;
        }
        
        // === –ò–°–¢–û–†–ò–ß–ï–°–ö–ò–ï –°–õ–û–ò ===
        function showHistoricalLayers() {
            updateVizButtons('history');
            
            const container = document.getElementById('vizContainer');
            container.innerHTML = '<div class="loading-indicator"><div class="loading-spinner"></div><span>–°–æ–∑–¥–∞—é—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏...</span></div>';
            
            setTimeout(() => {
                createHistoricalVisualization(container);
                if (vizSoundEnabled) playVizSound('history');
            }, 1000);
        }
        
        function createHistoricalVisualization(container) {
            // –ü–æ—Ö–æ–∂–∞ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–ø–∏—Ä–∞–ª—å, –Ω–æ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –∫—É–ª—å—Ç—É—Ä–Ω–æ-–Ω–∞—É—á–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–∞
            container.innerHTML = '';
            container.className = 'viz-container time-spiral';
            
            const layers = [
                { name: '–ë–µ—Ä—É–Ω–∏', contribution: '–ò–∑–º–µ—Ä–∏–ª –ó–µ–º–ª—é', x: 20, y: 20 },
                { name: '–ò–±–Ω –°–∏–Ω–æ', contribution: '–ú–µ–¥–∏—Ü–∏–Ω–∞', x: 80, y: 30 },
                { name: '–£–ª—É–≥–±–µ–∫', contribution: '–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è', x: 30, y: 60 },
                { name: '–ù–∞–≤–æ–∏', contribution: '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', x: 70, y: 70 },
                { name: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å', contribution: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', x: 50, y: 90 }
            ];
            
            layers.forEach((layer, index) => {
                const element = createHistoricalLayer(layer, index);
                container.appendChild(element);
            });
        }
        
        function createHistoricalLayer(layer, index) {
            const element = document.createElement('div');
            element.className = 'time-period';
            element.style.left = layer.x + '%';
            element.style.top = layer.y + '%';
            element.style.animationDelay = (index * 0.3) + 's';
            
            element.innerHTML = `<div style="font-weight: bold;">${layer.name}</div>
                               <div style="font-size: 10px;">${layer.contribution}</div>`;
            
            element.addEventListener('click', () => exploreHistoricalFigure(layer));
            
            return element;
        }
        
        // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò ===
        
        function updateVizButtons(activeButton) {
            document.querySelectorAll('.viz-button').forEach(btn => btn.classList.remove('active'));
            
            const buttons = {
                mycelium: 'btnMycelium',
                timeSpiral: 'btnTimeSpiral',
                fractal: 'btnFractal',
                history: 'btnHistory'
            };
            
            if (buttons[activeButton]) {
                document.getElementById(buttons[activeButton]).classList.add('active');
            }
            
            currentVisualization = activeButton;
        }
        
        function showTooltip(event, text) {
            const tooltip = document.getElementById('vizTooltip');
            tooltip.innerHTML = text.replace(/\n/g, '<br>');
            tooltip.style.left = event.pageX + 10 + 'px';
            tooltip.style.top = event.pageY - 10 + 'px';
            tooltip.classList.add('show');
        }
        
        function hideTooltip() {
            document.getElementById('vizTooltip').classList.remove('show');
        }
        
        // === –ó–í–£–ö–û–í–´–ï –≠–§–§–ï–ö–¢–´ ===
        let vizAudioContext;
        
        function initVizAudio() {
            if (!vizAudioContext && window.AudioContext) {
                vizAudioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function toggleVizSound() {
            vizSoundEnabled = !vizSoundEnabled;
            const indicator = document.querySelector('.sound-indicator');
            
            if (vizSoundEnabled) {
                indicator.innerHTML = 'üîä';
                indicator.style.background = '#008800';
                initVizAudio();
                if (voiceEnabled) speak(currentLanguage === 'uz' ? '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≤—É—à–∏ —ë“õ–∏–ª–¥–∏' :
                                      currentLanguage === 'ru' ? '–ó–≤—É–∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∫–ª—é—á—ë–Ω' : 'Visualization sound enabled');
            } else {
                indicator.innerHTML = 'üîá';
                indicator.style.background = '#999';
                if (voiceEnabled) speak(currentLanguage === 'uz' ? '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≤—É—à–∏ —û—á–∏—Ä–∏–ª–¥–∏' :
                                      currentLanguage === 'ru' ? '–ó–≤—É–∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–∫–ª—é—á–µ–Ω' : 'Visualization sound disabled');
            }
        }
        
        function playVizSound(type) {
            if (!vizSoundEnabled || !vizAudioContext) return;
            
            const frequencies = {
                network: [220, 330, 440],      // –ê–∫–∫–æ—Ä–¥ –¥–ª—è —Å–µ—Ç–∏
                spiral: [174, 285, 396],       // –°–æ–ª—å—Ñ–µ–¥–∂–∏–æ –¥–ª—è —Å–ø–∏—Ä–∞–ª–∏
                fractal: [528, 639, 741],      // –ß–∞—Å—Ç–æ—Ç—ã –¥–ª—è —Ñ—Ä–∞–∫—Ç–∞–ª–æ–≤
                history: [852, 963, 1074],     // –í—ã—Å–æ–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
                hover: [800],                  // –ü—Ä–æ—Å—Ç–æ–π —Ç–æ–Ω –¥–ª—è –Ω–∞–≤–µ–¥–µ–Ω–∏—è
                click: [1200, 800]             // –î–≤–æ–π–Ω–æ–π —Ç–æ–Ω –¥–ª—è –∫–ª–∏–∫–∞
            };
            
            const freq = frequencies[type] || [440];
            
            freq.forEach((frequency, index) => {
                const oscillator = vizAudioContext.createOscillator();
                const gainNode = vizAudioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(vizAudioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';
                
                const startTime = vizAudioContext.currentTime + index * 0.1;
                const duration = 0.2;
                
                gainNode.gain.setValueAtTime(0, startTime);
                gainNode.gain.linearRampToValueAtTime(0.1, startTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);
                
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            });
        }
        
        // === –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï –î–ï–¢–ê–õ–ï–ô ===
        
        function exploreNodeDetails(domain) {
            const details = {
                cosmic: {
                    uz: '–ö–æ—Å–º–æ—Å –¥–æ–º–µ–Ω–∏: –ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è, –§–∏–∑–∏–∫–∞, –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞. –ë–µ—Ä—É–Ω–∏ –≤–∞ –£–ª—É–≥–±–µ–∫–Ω–∏–Ω–≥ –∏—à–ª–∞—Ä–∏.',
                    ru: '–î–æ–º–µ–Ω –ö–æ—Å–º–æ—Å–∞: –ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è, –§–∏–∑–∏–∫–∞, –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞. –†–∞–±–æ—Ç—ã –ë–µ—Ä—É–Ω–∏ –∏ –£–ª—É–≥–±–µ–∫–∞.',
                    en: 'Cosmic Domain: Astronomy, Physics, Mathematics. Works of Biruni and Ulughbek.'
                },
                learning: {
                    uz: '–é—Ä–≥–∞–Ω–∏—à –¥–æ–º–µ–Ω–∏: –ü–µ–¥–∞–≥–æ–≥–∏–∫–∞, –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ù–µ–π—Ä–æ–Ω–∞—É–∫–∞. –ó–∞–º–æ–Ω–∞–≤–∏–π —Ç–∞—ä–ª–∏–º —É—Å—É–ª–ª–∞—Ä–∏.',
                    ru: '–î–æ–º–µ–Ω –û–±—É—á–µ–Ω–∏—è: –ü–µ–¥–∞–≥–æ–≥–∏–∫–∞, –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ù–µ–π—Ä–æ–Ω–∞—É–∫–∞. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.',
                    en: 'Learning Domain: Pedagogy, Psychology, Neuroscience. Modern educational methods.'
                }
                // ... –¥—Ä—É–≥–∏–µ –¥–æ–º–µ–Ω—ã
            };
            
            const detail = details[domain];
            if (detail) {
                const message = detail[currentLanguage] || detail.ru;
                alert(message);
            }
        }
        
        function exploreHistoricalPeriod(period) {
            const message = currentLanguage === 'uz' ? `${period.uz} –¥–∞–≤—Ä–∏–Ω–∏ —û—Ä–≥–∞–Ω–º–æ“õ–¥–∞—Å–∏–∑...` :
                           currentLanguage === 'ru' ? `–ò–∑—É—á–∞–µ—Ç–µ –ø–µ—Ä–∏–æ–¥ ${period.name}...` :
                           `Exploring ${period.en} period...`;
            alert(message);
        }
        
        function exploreFractalLevel(level) {
            const message = currentLanguage === 'uz' ? `${level.uz} –¥–∞—Ä–∞–∂–∞—Å–∏–Ω–∏ —û—Ä–≥–∞–Ω–º–æ“õ–¥–∞—Å–∏–∑...` :
                           currentLanguage === 'ru' ? `–ò–∑—É—á–∞–µ—Ç–µ ${level.name} —É—Ä–æ–≤–µ–Ω—å...` :
                           `Exploring ${level.en} level...`;
            alert(message);
        }
        
        function exploreHistoricalFigure(figure) {
            const message = currentLanguage === 'uz' ? `${figure.name} “≥–∞“õ–∏–¥–∞ –∫—û–ø—Ä–æ“õ –º–∞—ä–ª—É–º–æ—Ç...` :
                           currentLanguage === 'ru' ? `–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ ${figure.name}...` :
                           `More about ${figure.name}...`;
            alert(message);
        }
        
        // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
        function clearAll() {
            document.getElementById('questionInput').value = '';
            document.getElementById('resultsSection').style.display = 'none';
            
            if (voiceEnabled) {
                let message = currentLanguage === 'uz' ? '“≤–∞–º–º–∞—Å–∏ —Ç–æ–∑–∞–ª–∞–Ω–¥–∏' :
                             currentLanguage === 'ru' ? '–í—Å—ë –æ—á–∏—â–µ–Ω–æ' : 'Everything cleared';
                speak(message);
            }
        }
        
        function showHelp() {
            const helpMessages = {
                uz: `üìñ –Å–†–î–ê–ú –ö–é–†–°–ê–¢–ú–ê:
                
1. –¢–∏–ª–Ω–∏ —Ç–∞–Ω–ª–∞–Ω–≥ (—û–∑–±–µ–∫, —Ä—É—Å, –∏–Ω–≥–ª–∏–∑)
2. –Å—à–∏–Ω–≥–∏–∑–Ω–∏ –±–µ–ª–≥–∏–ª–∞–Ω–≥ (6-12, 13-17, 18+, 65+)
3. –ö–µ—Ä–∞–∫ –±—û–ª—Å–∞, –æ–≤–æ–∑–Ω–∏ —ë“õ–∏–Ω–≥
4. –°–∞–≤–æ–ª–∏–Ω–≥–∏–∑–Ω–∏ —ë–∑–∏–Ω–≥ —ë–∫–∏ –∞–π—Ç–∏–Ω–≥
5. "–ñ–∞–≤–æ–± –æ–ª–∏—à" —Ç—É–≥–º–∞—Å–∏–Ω–∏ –±–æ—Å–∏–Ω–≥

üéØ –ú–ò–°–û–õ–õ–ê–†:
‚Ä¢ "–û—Å–º–æ–Ω –Ω–µ–≥–∞ –∫—û–∫?"
‚Ä¢ "“ö–∞–Ω–¥–∞–π “õ–∏–ª–∏–± —Ç–µ–∑ —û—Ä–≥–∞–Ω–∏—à –º—É–º–∫–∏–Ω?"
‚Ä¢ "–ë—É—Ö–æ—Ä–æ–¥–∞ “õ–∞–Ω–¥–∞–π —Ç–∞—Ä–∏—Ö –±–æ—Ä?"`,
                
                ru: `üìñ –°–ü–†–ê–í–ö–ê:
                
1. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ (—É–∑–±–µ–∫—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
2. –£–∫–∞–∂–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç (6-12, 13-17, 18+, 65+)
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–∏—Ç–µ –≥–æ–ª–æ—Å
4. –ù–∞–ø–∏—à–∏—Ç–µ –∏–ª–∏ —Å–∫–∞–∂–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å
5. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç"

üéØ –ü–†–ò–ú–ï–†–´:
‚Ä¢ "–ü–æ—á–µ–º—É –Ω–µ–±–æ —Å–∏–Ω–µ–µ?"
‚Ä¢ "–ö–∞–∫ –±—ã—Å—Ç—Ä–æ —É—á–∏—Ç—å—Å—è?"
‚Ä¢ "–ö–∞–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤ –ë—É—Ö–∞—Ä–µ?"`,
                
                en: `üìñ HELP:
                
1. Choose language (Uzbek, Russian, English)
2. Set age (6-12, 13-17, 18+, 65+)  
3. Enable voice if needed
4. Write or say your question
5. Click "Get Answer"

üéØ EXAMPLES:
‚Ä¢ "Why is the sky blue?"
‚Ä¢ "How to learn fast?"
‚Ä¢ "What history in Bukhara?"`
            };
            
            alert(helpMessages[currentLanguage]);
        }
        
        function emergencyHelp() {
            const emergencyMessages = {
                uz: `üö® –®–û–®–ò–õ–ò–ù–ß –Å–†–î–ê–ú:
                
–ê–≥–∞—Ä —Ç–µ—Ö–Ω–∏–∫ –º—É–∞–º–º–æ –±—û–ª—Å–∞:
‚Ä¢ –°–∞“≥–∏—Ñ–∞–Ω–∏ “õ–∞–π—Ç–∞ —é–∫–ª–∞–Ω–≥ (F5)
‚Ä¢ –ë—Ä–∞—É–∑–µ—Ä–Ω–∏ “õ–∞–π—Ç–∞ –∏—à–≥–∞ —Ç—É—à–∏—Ä–∏—à
‚Ä¢ JavaScript —ë“õ–∏–ª–≥–∞–Ω–ª–∏–≥–∏–Ω–∏ —Ç–µ–∫—à–∏—Ä–∏—à

–¢–∏–∑–∏–º –±–∏–ª–∞–Ω –±–æ“ì–ª–∏“õ –º—É–∞–º–º–æ–ª–∞—Ä —É—á—É–Ω:
üìß support@terraproject.uz
üìû +998 71 123 45 67

–¢–µ–∑ —ë—Ä–¥–∞–º —É—á—É–Ω:
üîÑ –ö–µ—à–∞ –≤–∞ cookie-–ª–∞—Ä–Ω–∏ —Ç–æ–∑–∞–ª–∞—à
üåê –ë–æ—à“õ–∞ –±—Ä–∞—É–∑–µ—Ä–¥–∞–Ω —Å–∏–Ω–∞–± –∫—û—Ä–∏—à`,
                
                ru: `üö® –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ü–û–ú–û–©–¨:
                
–ü—Ä–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö:
‚Ä¢ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
‚Ä¢ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª—é—á—ë–Ω –ª–∏ JavaScript

–ü–æ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º:
üìß support@terraproject.uz
üìû +998 71 123 45 67

–ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å:
üîÑ –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ cookies
üåê –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä`,
                
                en: `üö® EMERGENCY HELP:
                
For technical problems:
‚Ä¢ Reload page (F5)
‚Ä¢ Restart browser
‚Ä¢ Check if JavaScript is enabled

For system issues:
üìß support@terraproject.uz
üìû +998 71 123 45 67

Quick help:
üîÑ Clear cache and cookies
üåê Try another browser`
            };
            
            alert(emergencyMessages[currentLanguage]);
        }
        
        // === –ü–†–û–°–¢–û–ï –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ===
        window.onerror = function(msg, url, line, col, error) {
            console.error('–û—à–∏–±–∫–∞ Universal TERRA:', {
                message: msg,
                source: url,
                line: line,
                column: col,
                error: error
            });
            
            // –ü–æ–∫–∞–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            if (currentLanguage === 'uz') {
                alert('–¢–∏–∑–∏–º–¥–∞ —Ö–∞—Ç–æ–ª–∏–∫ —é–∑ –±–µ—Ä–¥–∏. –°–∞“≥–∏—Ñ–∞–Ω–∏ “õ–∞–π—Ç–∞ —é–∫–ª–∞–Ω–≥.');
            } else if (currentLanguage === 'ru') {
                alert('–í —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
            } else {
                alert('System error occurred. Please reload the page.');
            }
        };
        
        console.log('üß¨ Universal TERRA Engine v1.0 –∑–∞–≥—Ä—É–∂–µ–Ω');
        console.log('‚úÖ –ü–æ–ª–Ω–∞—è –¥–µ—Ç–æ–∫—Å–∏—Ñ–∏–∫–∞—Ü–∏—è L0-L3 –ø—Ä–∏–º–µ–Ω–µ–Ω–∞');
        console.log('üåç –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è');
    </script>

    <!-- –í–µ—Ä—Å–∏—è –¥–ª—è –ø–µ—á–∞—Ç–∏ -->
    <div style="display: none;" class="print-version">
        <h1>Universal TERRA - –ü–µ—á–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è</h1>
        <p>–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –ª—é–¥–µ–π –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: –¥–µ—Ç–µ–π, –≤–∑—Ä–æ—Å–ª—ã—Ö, –ø–æ–∂–∏–ª—ã—Ö, –ª—é–¥–µ–π —Å –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å—é, –≥—Ä–∞–º–æ—Ç–Ω—ã—Ö –∏ –Ω–µ–≥—Ä–∞–º–æ—Ç–Ω—ã—Ö.</p>
        <p>–î–ª—è —Ä–∞–±–æ—Ç—ã –æ–Ω–ª–∞–π–Ω –ø–æ—Å–µ—Ç–∏—Ç–µ: [–≤–µ–±-–∞–¥—Ä–µ—Å]</p>
        <p>–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏: support@terraproject.uz</p>
    </div>
</body>
</html>