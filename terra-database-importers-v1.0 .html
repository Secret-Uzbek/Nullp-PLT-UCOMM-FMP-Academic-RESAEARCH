<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terra Database Importers v1.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .importer-card {
            @apply bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:scale-102 border-l-4;
        }
        
        .mysql-card { @apply border-orange-500; }
        .postgres-card { @apply border-blue-500; }
        .sqlite-card { @apply border-green-500; }
        .mongodb-card { @apply border-purple-500; }
        .oracle-card { @apply border-red-500; }
        .mssql-card { @apply border-indigo-500; }
        
        .status-indicator {
            @apply inline-block w-3 h-3 rounded-full mr-2;
        }
        
        .status-ready { @apply bg-green-500; }
        .status-progress { @apply bg-yellow-500; }
        .status-error { @apply bg-red-500; }
        
        .progress-bar {
            @apply w-full bg-gray-200 rounded-full h-2 shadow-inner;
        }
        
        .progress-fill {
            @apply bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300;
        }
        
        .modal {
            @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
        }
        
        .modal-content {
            @apply bg-white rounded-lg p-8 max-w-4xl max-h-3/4 overflow-y-auto shadow-2xl;
        }
        
        .config-field {
            @apply mb-4;
        }
        
        .config-field label {
            @apply block text-sm font-medium text-gray-700 mb-1;
        }
        
        .config-field input, .config-field select, .config-field textarea {
            @apply w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
        }
        
        .terra-button {
            @apply px-6 py-3 rounded-lg font-semibold text-white shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-opacity-50;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .code-block {
            @apply bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto;
        }
        
        .hidden {
            display: none !important;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    
    <!-- Header -->
    <header class="gradient-bg text-white p-6 shadow-xl">
        <div class="container mx-auto">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-4xl font-bold mb-2">üîÑ Terra Database Importers v1.0</h1>
                    <p class="text-blue-100">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –°–£–ë–î –≤ Terra Archive Manager 2.0 Ultimate</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-blue-200">–ê–≤—Ç–æ—Ä: –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á</div>
                    <div class="text-xs text-blue-300">DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-6">
        
        <!-- System Status -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800">üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏–º–ø–æ—Ä—Ç–∞</h2>
                <div class="flex space-x-2">
                    <button onclick="runCompatibilityCheck()" class="terra-button bg-purple-500 hover:bg-purple-600 focus:ring-purple-300">
                        üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
                    </button>
                    <button onclick="showImportHistory()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                        üìã –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-4 gap-4" id="systemStatus">
                <div class="text-center p-4 bg-blue-50 rounded-lg">
                    <div class="text-2xl font-bold text-blue-600" id="activeImporters">0</div>
                    <div class="text-sm text-blue-700">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤</div>
                </div>
                <div class="text-center p-4 bg-green-50 rounded-lg">
                    <div class="text-2xl font-bold text-green-600" id="completedImports">0</div>
                    <div class="text-sm text-green-700">–ó–∞–≤–µ—Ä—à–µ–Ω–æ –∏–º–ø–æ—Ä—Ç–æ–≤</div>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <div class="text-2xl font-bold text-purple-600" id="totalRecords">0</div>
                    <div class="text-sm text-purple-700">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π</div>
                </div>
                <div class="text-center p-4 bg-orange-50 rounded-lg">
                    <div class="text-2xl font-bold text-orange-600" id="totalSize">0 MB</div>
                    <div class="text-sm text-orange-700">–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö</div>
                </div>
            </div>
        </div>

        <!-- Database Importers Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            
            <!-- MySQL/MariaDB Importer -->
            <div class="importer-card mysql-card" onclick="openImporter('mysql')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            üê¨ MySQL/MariaDB
                            <span class="status-indicator status-ready ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ MySQL –∏ MariaDB –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded">L1+ Ready</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">SQL Dump</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">CSV Export</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">JSON Export</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑<br>
                    ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ<br>
                    ‚úÖ –≠—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                </div>
            </div>
            
            <!-- PostgreSQL Importer -->
            <div class="importer-card postgres-card" onclick="openImporter('postgres')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            üêò PostgreSQL
                            <span class="status-indicator status-ready ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ PostgreSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">L2+ Ready</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">pg_dump</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">COPY TO</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">JSON/JSONB</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö<br>
                    ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫<br>
                    ‚úÖ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                </div>
            </div>
            
            <!-- SQLite Importer -->
            <div class="importer-card sqlite-card" onclick="openImporter('sqlite')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            üì± SQLite
                            <span class="status-indicator status-ready ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ SQLite —Ñ–∞–π–ª–æ–≤</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-green-600 bg-green-100 px-2 py-1 rounded">L0+ Ready</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">.sqlite</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">.db</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">.sqlite3</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    ‚úÖ –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤<br>
                    ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã<br>
                    ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                </div>
            </div>
            
            <!-- MongoDB Importer -->
            <div class="importer-card mongodb-card" onclick="openImporter('mongodb')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            üçÉ MongoDB
                            <span class="status-indicator status-progress ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏–π</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded">L2+ Beta</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">JSON Export</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">BSON Dump</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">CSV Export</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    üîÑ –î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞<br>
                    üîÑ –°—Ö–µ–º–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å<br>
                    üîÑ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
                </div>
            </div>
            
            <!-- Oracle Database Importer -->
            <div class="importer-card oracle-card" onclick="openImporter('oracle')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            üèõÔ∏è Oracle Database
                            <span class="status-indicator status-progress ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ Oracle –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-red-600 bg-red-100 px-2 py-1 rounded">L3+ Enterprise</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">Data Pump</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">SQL*Loader</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">XML Export</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    üîÑ Enterprise –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ<br>
                    üîÑ –°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö<br>
                    üîÑ –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏
                </div>
            </div>
            
            <!-- Microsoft SQL Server Importer -->
            <div class="importer-card mssql-card" onclick="openImporter('mssql')">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            ü™ü SQL Server
                            <span class="status-indicator status-progress ml-2"></span>
                        </h3>
                        <p class="text-sm text-gray-600">–ò–º–ø–æ—Ä—Ç –∏–∑ Microsoft SQL Server</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-indigo-600 bg-indigo-100 px-2 py-1 rounded">L2+ Beta</div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="text-sm text-gray-700 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</div>
                    <div class="flex flex-wrap gap-1">
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">BACPAC</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">BCP Export</span>
                        <span class="text-xs bg-gray-200 px-2 py-1 rounded">SQL Script</span>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    üîÑ T-SQL –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏<br>
                    üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å .NET<br>
                    üîÑ XML –∏ JSON –ø–æ–¥–¥–µ—Ä–∂–∫–∞
                </div>
            </div>
        </div>

        <!-- Quick Import Section -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">‚ö° –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç</h2>
            
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label for="quickImportType" class="block text-sm font-medium text-gray-700 mb-2">–¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:</label>
                    <select id="quickImportType" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø...</option>
                        <option value="csv">üìÑ CSV —Ñ–∞–π–ª</option>
                        <option value="json">üìã JSON —Ñ–∞–π–ª</option>
                        <option value="xml">üè∑Ô∏è XML —Ñ–∞–π–ª</option>
                        <option value="sql">üíæ SQL –¥–∞–º–ø</option>
                        <option value="sqlite">üì± SQLite —Ñ–∞–π–ª</option>
                    </select>
                </div>
                
                <div>
                    <label for="quickImportFile" class="block text-sm font-medium text-gray-700 mb-2">–§–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:</label>
                    <input type="file" id="quickImportFile" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" onchange="handleQuickImportFile(this.files)">
                </div>
            </div>
            
            <div class="flex justify-between items-center mt-6">
                <button onclick="startQuickImport()" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">
                    ‚ö° –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç
                </button>
                
                <div class="flex space-x-2">
                    <button onclick="previewImportData()" class="terra-button bg-yellow-500 hover:bg-yellow-600 focus:ring-yellow-300">
                        üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                    </button>
                    <button onclick="validateImportData()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                        ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è
                    </button>
                    <button onclick="showImportSettings()" class="terra-button bg-purple-500 hover:bg-purple-600 focus:ring-purple-300">
                        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </div>
            </div>
            
            <!-- Import Progress -->
            <div id="importProgress" class="hidden mt-6">
                <div class="progress-bar">
                    <div id="importProgressFill" class="progress-fill" style="width: 0%"></div>
                </div>
                <p id="importProgressText" class="text-center text-sm text-gray-600 mt-2">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–º–ø–æ—Ä—Ç—É...</p>
            </div>
        </div>

        <!-- Import History -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">üìã –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞</h2>
                <div class="flex space-x-2">
                    <button onclick="clearImportHistory()" class="terra-button bg-red-500 hover:bg-red-600 focus:ring-red-300">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                    <button onclick="exportImportHistory()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                        üíæ –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>
            
            <div id="importHistoryList" class="space-y-4 max-h-96 overflow-y-auto">
                <div class="text-center py-12 text-gray-500">
                    <div class="text-6xl mb-6">üìã</div>
                    <h3 class="text-xl font-semibold mb-2">–ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞ –ø—É—Å—Ç–∞</h3>
                    <p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                </div>
            </div>
        </div>
        
    </main>

    <!-- Import Configuration Modal -->
    <div id="importModal" class="modal hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-semibold" id="modalTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–ø–æ—Ä—Ç–∞</h3>
                <button onclick="closeImportModal()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button>
            </div>
            
            <div id="modalContent">
                <!-- Modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 mt-12">
        <div class="container mx-auto text-center">
            <div class="mb-4">
                <h3 class="text-lg font-semibold mb-2">üîÑ Terra Database Importers v1.0</h3>
                <p class="text-gray-300">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –°–£–ë–î</p>
            </div>
            
            <div class="grid grid-cols-3 gap-8 text-sm">
                <div>
                    <h4 class="font-semibold text-blue-300 mb-2">üóÑÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –°–£–ë–î</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>MySQL/MariaDB</li>
                        <li>PostgreSQL</li>
                        <li>SQLite</li>
                        <li>MongoDB</li>
                        <li>Oracle Database</li>
                        <li>SQL Server</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-green-300 mb-2">üîÑ –§–æ—Ä–º–∞—Ç—ã –∏–º–ø–æ—Ä—Ç–∞</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>SQL –¥–∞–º–ø—ã</li>
                        <li>CSV —ç–∫—Å–ø–æ—Ä—Ç—ã</li>
                        <li>JSON —Ñ–∞–π–ª—ã</li>
                        <li>XML –¥–æ–∫—É–º–µ–Ω—Ç—ã</li>
                        <li>–ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-purple-300 mb-2">‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</li>
                        <li>–≠—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                        <li>–§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</li>
                        <li>–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 pt-6 border-t border-gray-700">
                <p class="text-gray-400">
                    ¬© 2024 –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á ‚Ä¢ 
                    DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890 ‚Ä¢ 
                    Terra Database Importers v1.0
                </p>
            </div>
        </div>
    </footer>

    <script>
        // =========================================================================
        // TERRA DATABASE IMPORTERS v1.0 - –ü–û–õ–ù–´–ô JAVASCRIPT –ö–û–î
        // –ê–≤—Ç–æ—Ä: –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á
        // DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890
        // –§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –°–£–ë–î
        // =========================================================================
        
        // ===== –ë–ê–ó–û–í–´–ô –ò–ú–ü–û–†–¢–ï–† –ö–õ–ê–°–° =====
        
        function TerraBaseImporter() {
            this.version = "1.0.0";
            this.author = "–ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á";
            this.did = "aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890";
            this.supportedFormats = [];
            this.currentLevel = 0;
            this.statistics = {
                totalImports: 0,
                totalRecords: 0,
                totalSize: 0,
                errors: 0
            };
        }
        
        TerraBaseImporter.prototype.validateFormat = function(file) {
            if (!file) return { valid: false, error: "–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω" };
            
            var extension = file.name.split('.').pop().toLowerCase();
            
            if (this.supportedFormats.indexOf(extension) === -1) {
                return { 
                    valid: false, 
                    error: "–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç: " + extension 
                };
            }
            
            return { valid: true };
        };
        
        TerraBaseImporter.prototype.preprocessData = function(data) {
            return {
                processedData: data,
                metadata: {
                    processingTime: Date.now(),
                    originalSize: JSON.stringify(data).length,
                    records: Array.isArray(data) ? data.length : 1
                }
            };
        };
        
        TerraBaseImporter.prototype.performSemanticAnalysis = function(data) {
            // –ü—Ä–æ—Å—Ç–æ–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è
            var analysis = {
                keywords: [],
                concepts: [],
                structure: this.analyzeStructure(data),
                confidence: 0.7
            };
            
            if (typeof data === 'string') {
                analysis.keywords = this.extractKeywords(data);
            } else if (Array.isArray(data)) {
                analysis.structure.recordCount = data.length;
                if (data.length > 0) {
                    analysis.structure.fields = Object.keys(data[0] || {});
                }
            }
            
            return analysis;
        };
        
        TerraBaseImporter.prototype.extractKeywords = function(text) {
            if (!text || typeof text !== 'string') return [];
            
            var words = text.toLowerCase().match(/[a-zA-Z–∞-—è—ë\u0600-\u06FF]{3,}/g) || [];
            var wordCount = {};
            
            // –ü–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã —Å–ª–æ–≤
            for (var i = 0; i < words.length; i++) {
                var word = words[i];
                wordCount[word] = (wordCount[word] || 0) + 1;
            }
            
            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —á–∞—Å—Ç–æ—Ç–µ
            var keywords = [];
            for (var word in wordCount) {
                keywords.push({ word: word, frequency: wordCount[word] });
            }
            
            keywords.sort(function(a, b) { return b.frequency - a.frequency; });
            
            return keywords.slice(0, 10); // –¢–æ–ø 10 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        };
        
        TerraBaseImporter.prototype.analyzeStructure = function(data) {
            var structure = {
                type: typeof data,
                isArray: Array.isArray(data),
                isEmpty: !data || (Array.isArray(data) && data.length === 0),
                size: JSON.stringify(data).length
            };
            
            if (Array.isArray(data) && data.length > 0) {
                var firstItem = data[0];
                structure.itemType = typeof firstItem;
                
                if (typeof firstItem === 'object' && firstItem !== null) {
                    structure.fields = Object.keys(firstItem);
                    structure.fieldTypes = {};
                    
                    for (var field of structure.fields) {
                        structure.fieldTypes[field] = typeof firstItem[field];
                    }
                }
            }
            
            return structure;
        };
        
        TerraBaseImporter.prototype.ethicalCheck = function(data) {
            var issues = [];
            var dataStr = JSON.stringify(data).toLowerCase();
            
            // –ë–∞–∑–æ–≤—ã–µ —ç—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
            var harmfulPatterns = [
                'password', '–ø–∞—Ä–æ–ª—å', 'credit_card', 'ssn', '–ª–∏—á–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ'
            ];
            
            for (var i = 0; i < harmfulPatterns.length; i++) {
                if (dataStr.indexOf(harmfulPatterns[i]) !== -1) {
                    issues.push({
                        type: 'privacy_risk',
                        message: '–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: ' + harmfulPatterns[i]
                    });
                }
            }
            
            return {
                passed: issues.length === 0,
                issues: issues,
                confidence: issues.length === 0 ? 0.9 : 0.3
            };
        };
        
        TerraBaseImporter.prototype.createTerraArchive = function(data, metadata, analysis) {
            var terraArchive = {
                id: 'terra_import_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                timestamp: new Date().toISOString(),
                source: metadata.source || 'unknown',
                importer: this.constructor.name || 'TerraBaseImporter',
                level: this.currentLevel,
                version: this.version,
                author: this.author,
                did: this.did,
                
                // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                data: data,
                
                // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
                metadata: {
                    originalFile: metadata.fileName,
                    originalSize: metadata.originalSize,
                    processedSize: JSON.stringify(data).length,
                    recordCount: metadata.recordCount || 0,
                    importTime: Date.now(),
                    checksum: this.calculateChecksum(data)
                },
                
                // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
                analysis: analysis,
                
                // –≠—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                ethicalCheck: this.ethicalCheck(data),
                
                // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                statistics: {
                    processingTime: metadata.processingTime || 0,
                    conversionRate: 100, // –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                    qualityScore: analysis.confidence * 100
                }
            };
            
            return terraArchive;
        };
        
        TerraBaseImporter.prototype.calculateChecksum = function(data) {
            var str = JSON.stringify(data);
            var hash = 0;
            
            for (var i = 0; i < str.length; i++) {
                var char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ
            }
            
            return hash.toString(16);
        };
        
        // ===== –°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ò–ú–ü–û–†–¢–ï–†–´ =====
        
        // MySQL/MariaDB Importer
        function TerraMyQLImporter() {
            TerraBaseImporter.call(this);
            this.supportedFormats = ['sql', 'csv', 'json'];
            this.dbType = 'mysql';
        }
        
        TerraMyQLImporter.prototype = Object.create(TerraBaseImporter.prototype);
        TerraMyQLImporter.prototype.constructor = TerraMyQLImporter;
        
        TerraMyQLImporter.prototype.parseSQL = function(sqlContent) {
            var tables = [];
            var currentTable = null;
            var lines = sqlContent.split('\n');
            
            for (var i = 0; i < lines.length; i++) {
                var line = lines[i].trim();
                
                // –ü–æ–∏—Å–∫ CREATE TABLE
                if (line.toLowerCase().indexOf('create table') !== -1) {
                    var tableName = line.match(/create\s+table\s+`?(\w+)`?/i);
                    if (tableName) {
                        currentTable = {
                            name: tableName[1],
                            columns: [],
                            data: []
                        };
                        tables.push(currentTable);
                    }
                }
                
                // –ü–æ–∏—Å–∫ INSERT INTO
                if (line.toLowerCase().indexOf('insert into') !== -1 && currentTable) {
                    var values = this.extractInsertValues(line);
                    if (values) {
                        currentTable.data.push(values);
                    }
                }
            }
            
            return tables;
        };
        
        TerraMyQLImporter.prototype.extractInsertValues = function(insertLine) {
            // –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ INSERT
            var valuesMatch = insertLine.match(/VALUES\s*\((.*)\)/i);
            if (valuesMatch) {
                var valuesStr = valuesMatch[1];
                // –ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ - –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–µ–Ω –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
                return valuesStr.split(',').map(function(val) {
                    return val.trim().replace(/^'|'$/g, '');
                });
            }
            return null;
        };
        
        TerraMyQLImporter.prototype.import = function(file, options) {
            var self = this;
            options = options || {};
            
            return new Promise(function(resolve, reject) {
                var reader = new FileReader();
                
                reader.onload = function(e) {
                    try {
                        var content = e.target.result;
                        var parsedData;
                        
                        if (file.name.endsWith('.sql')) {
                            parsedData = self.parseSQL(content);
                        } else if (file.name.endsWith('.csv')) {
                            parsedData = self.parseCSV(content);
                        } else if (file.name.endsWith('.json')) {
                            parsedData = JSON.parse(content);
                        }
                        
                        var analysis = self.performSemanticAnalysis(parsedData);
                        var metadata = {
                            fileName: file.name,
                            originalSize: file.size,
                            source: 'mysql',
                            recordCount: Array.isArray(parsedData) ? parsedData.length : 1
                        };
                        
                        var terraArchive = self.createTerraArchive(parsedData, metadata, analysis);
                        
                        resolve(terraArchive);
                        
                    } catch (error) {
                        reject(error);
                    }
                };
                
                reader.onerror = function(error) {
                    reject(error);
                };
                
                reader.readAsText(file);
            });
        };
        
        TerraMyQLImporter.prototype.parseCSV = function(csvContent) {
            var lines = csvContent.split('\n');
            var headers = lines[0].split(',').map(function(h) { return h.trim(); });
            var data = [];
            
            for (var i = 1; i < lines.length; i++) {
                if (lines[i].trim()) {
                    var values = lines[i].split(',').map(function(v) { return v.trim(); });
                    var record = {};
                    
                    for (var j = 0; j < headers.length; j++) {
                        record[headers[j]] = values[j] || '';
                    }
                    
                    data.push(record);
                }
            }
            
            return data;
        };
        
        // PostgreSQL Importer
        function TerraPostgreSQLImporter() {
            TerraBaseImporter.call(this);
            this.supportedFormats = ['sql', 'dump', 'csv', 'json'];
            this.dbType = 'postgresql';
        }
        
        TerraPostgreSQLImporter.prototype = Object.create(TerraBaseImporter.prototype);
        TerraPostgreSQLImporter.prototype.constructor = TerraPostgreSQLImporter;
        
        TerraPostgreSQLImporter.prototype.import = function(file, options) {
            // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è PostgreSQL
            return TerraMyQLImporter.prototype.import.call(this, file, options);
        };
        
        // SQLite Importer
        function TerraSQLiteImporter() {
            TerraBaseImporter.call(this);
            this.supportedFormats = ['db', 'sqlite', 'sqlite3'];
            this.dbType = 'sqlite';
        }
        
        TerraSQLiteImporter.prototype = Object.create(TerraBaseImporter.prototype);
        TerraSQLiteImporter.prototype.constructor = TerraSQLiteImporter;
        
        TerraSQLiteImporter.prototype.import = function(file, options) {
            var self = this;
            
            return new Promise(function(resolve, reject) {
                // –î–ª—è SQLite —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –∑–¥–µ—Å—å –±—ã–ª –±—ã SQL.js –∏–ª–∏ –ø–æ–¥–æ–±–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
                
                var metadata = {
                    fileName: file.name,
                    originalSize: file.size,
                    source: 'sqlite',
                    recordCount: 0
                };
                
                // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                var mockData = [{
                    message: "SQLite –∏–º–ø–æ—Ä—Ç —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ SQL.js",
                    fileName: file.name,
                    fileSize: file.size,
                    recommendation: "–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ CSV –∏–ª–∏ JSON —Ñ–æ—Ä–º–∞—Ç"
                }];
                
                var analysis = self.performSemanticAnalysis(mockData);
                var terraArchive = self.createTerraArchive(mockData, metadata, analysis);
                
                resolve(terraArchive);
            });
        };
        
        // MongoDB Importer
        function TerraMongoDBImporter() {
            TerraBaseImporter.call(this);
            this.supportedFormats = ['json', 'bson', 'csv'];
            this.dbType = 'mongodb';
        }
        
        TerraMongoDBImporter.prototype = Object.create(TerraBaseImporter.prototype);
        TerraMongoDBImporter.prototype.constructor = TerraMongoDBImporter;
        
        TerraMongoDBImporter.prototype.import = function(file, options) {
            var self = this;
            
            return new Promise(function(resolve, reject) {
                var reader = new FileReader();
                
                reader.onload = function(e) {
                    try {
                        var content = e.target.result;
                        var parsedData;
                        
                        if (file.name.endsWith('.json')) {
                            // MongoDB JSON —ç–∫—Å–ø–æ—Ä—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ JSON –æ–±—ä–µ–∫—Ç–æ–≤
                            parsedData = self.parseMongoJSON(content);
                        } else if (file.name.endsWith('.csv')) {
                            parsedData = TerraMyQLImporter.prototype.parseCSV(content);
                        }
                        
                        var analysis = self.performSemanticAnalysis(parsedData);
                        var metadata = {
                            fileName: file.name,
                            originalSize: file.size,
                            source: 'mongodb',
                            recordCount: Array.isArray(parsedData) ? parsedData.length : 1
                        };
                        
                        var terraArchive = self.createTerraArchive(parsedData, metadata, analysis);
                        resolve(terraArchive);
                        
                    } catch (error) {
                        reject(error);
                    }
                };
                
                reader.readAsText(file);
            });
        };
        
        TerraMongoDBImporter.prototype.parseMongoJSON = function(content) {
            var lines = content.split('\n').filter(function(line) { return line.trim(); });
            var documents = [];
            
            for (var i = 0; i < lines.length; i++) {
                try {
                    var doc = JSON.parse(lines[i]);
                    documents.push(doc);
                } catch (e) {
                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
                }
            }
            
            return documents;
        };
        
        // ===== –ú–ï–ù–ï–î–ñ–ï–† –ò–ú–ü–û–†–¢–ï–†–û–í =====
        
        function TerraImportManager() {
            this.importers = {
                'mysql': new TerraMyQLImporter(),
                'postgres': new TerraPostgreSQLImporter(),
                'sqlite': new TerraSQLiteImporter(),
                'mongodb': new TerraMongoDBImporter()
            };
            
            this.importHistory = this.loadImportHistory();
            this.activeImports = 0;
            this.statistics = {
                totalImports: 0,
                completedImports: 0,
                totalRecords: 0,
                totalSize: 0
            };
            
            this.updateStatistics();
        }
        
        TerraImportManager.prototype.loadImportHistory = function() {
            try {
                var stored = localStorage.getItem('terra_import_history');
                return stored ? JSON.parse(stored) : [];
            } catch (error) {
                console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∏–º–ø–æ—Ä—Ç–∞:', error);
                return [];
            }
        };
        
        TerraImportManager.prototype.saveImportHistory = function() {
            try {
                localStorage.setItem('terra_import_history', JSON.stringify(this.importHistory));
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–º–ø–æ—Ä—Ç–∞:', error);
            }
        };
        
        TerraImportManager.prototype.addToHistory = function(importResult) {
            this.importHistory.unshift({
                id: importResult.id,
                timestamp: importResult.timestamp,
                source: importResult.source,
                fileName: importResult.metadata.originalFile,
                recordCount: importResult.metadata.recordCount,
                size: importResult.metadata.originalSize,
                status: 'completed',
                qualityScore: importResult.statistics.qualityScore
            });
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –¥–æ 100 –∑–∞–ø–∏—Å–µ–π
            if (this.importHistory.length > 100) {
                this.importHistory = this.importHistory.slice(0, 100);
            }
            
            this.saveImportHistory();
            this.updateStatistics();
        };
        
        TerraImportManager.prototype.updateStatistics = function() {
            this.statistics.totalImports = this.importHistory.length;
            this.statistics.completedImports = this.importHistory.filter(function(h) { 
                return h.status === 'completed'; 
            }).length;
            
            this.statistics.totalRecords = this.importHistory.reduce(function(sum, h) {
                return sum + (h.recordCount || 0);
            }, 0);
            
            this.statistics.totalSize = this.importHistory.reduce(function(sum, h) {
                return sum + (h.size || 0);
            }, 0);
            
            this.updateUI();
        };
        
        TerraImportManager.prototype.updateUI = function() {
            var activeImportersElement = document.getElementById('activeImporters');
            var completedImportsElement = document.getElementById('completedImports');
            var totalRecordsElement = document.getElementById('totalRecords');
            var totalSizeElement = document.getElementById('totalSize');
            
            if (activeImportersElement) activeImportersElement.textContent = this.activeImports;
            if (completedImportsElement) completedImportsElement.textContent = this.statistics.completedImports;
            if (totalRecordsElement) totalRecordsElement.textContent = this.formatNumber(this.statistics.totalRecords);
            if (totalSizeElement) totalSizeElement.textContent = this.formatFileSize(this.statistics.totalSize);
            
            this.updateImportHistoryUI();
        };
        
        TerraImportManager.prototype.updateImportHistoryUI = function() {
            var container = document.getElementById('importHistoryList');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (this.importHistory.length === 0) {
                container.innerHTML = 
                    '<div class="text-center py-12 text-gray-500">' +
                        '<div class="text-6xl mb-6">üìã</div>' +
                        '<h3 class="text-xl font-semibold mb-2">–ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞ –ø—É—Å—Ç–∞</h3>' +
                        '<p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π</p>' +
                    '</div>';
                return;
            }
            
            for (var i = 0; i < Math.min(this.importHistory.length, 10); i++) {
                var historyItem = this.importHistory[i];
                var itemElement = document.createElement('div');
                itemElement.className = 'bg-gray-50 p-4 rounded-lg border border-gray-200';
                
                var statusIcon = historyItem.status === 'completed' ? '‚úÖ' : 
                               historyItem.status === 'error' ? '‚ùå' : 'üîÑ';
                
                itemElement.innerHTML = 
                    '<div class="flex justify-between items-start">' +
                        '<div class="flex-1">' +
                            '<h4 class="font-semibold text-gray-800 mb-1">' + statusIcon + ' ' + historyItem.fileName + '</h4>' +
                            '<p class="text-sm text-gray-600 mb-2">' + new Date(historyItem.timestamp).toLocaleString() + '</p>' +
                            '<div class="flex space-x-4 text-sm text-gray-700">' +
                                '<span>üìä ' + this.formatNumber(historyItem.recordCount) + ' –∑–∞–ø–∏—Å–µ–π</span>' +
                                '<span>üíæ ' + this.formatFileSize(historyItem.size) + '</span>' +
                                '<span>‚≠ê ' + Math.round(historyItem.qualityScore) + '%</span>' +
                            '</div>' +
                        '</div>' +
                        '<div class="text-right ml-4">' +
                            '<div class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">' + historyItem.source + '</div>' +
                        '</div>' +
                    '</div>';
                
                container.appendChild(itemElement);
            }
        };
        
        TerraImportManager.prototype.formatNumber = function(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        };
        
        TerraImportManager.prototype.formatFileSize = function(bytes) {
            if (bytes === 0) return '0 B';
            
            var k = 1024;
            var sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
            var i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        };
        
        TerraImportManager.prototype.startImport = function(importerType, file, options) {
            var self = this;
            options = options || {};
            
            if (!this.importers[importerType]) {
                return Promise.reject(new Error('–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø –∏–º–ø–æ—Ä—Ç–µ—Ä–∞: ' + importerType));
            }
            
            var importer = this.importers[importerType];
            var validation = importer.validateFormat(file);
            
            if (!validation.valid) {
                return Promise.reject(new Error(validation.error));
            }
            
            this.activeImports++;
            this.updateUI();
            
            return importer.import(file, options).then(function(result) {
                self.activeImports--;
                self.addToHistory(result);
                
                // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Terra Archive Manager –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
                if (window.terraSystem && window.terraSystem.archiveManager) {
                    var archiveResult = window.terraSystem.archiveManager.createArchive(
                        result, 
                        result.level, 
                        result.did
                    );
                    
                    if (archiveResult.success) {
                        result.terraArchiveId = archiveResult.archiveId;
                    }
                }
                
                return result;
                
            }).catch(function(error) {
                self.activeImports--;
                self.updateUI();
                throw error;
            });
        };
        
        // ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –ò–ù–¢–ï–†–§–ï–ô–°–ê =====
        
        var importManager;
        var currentImportFile = null;
        
        function initializeImportManager() {
            importManager = new TerraImportManager();
            console.log("üîÑ Terra Database Importers –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã");
        }
        
        function openImporter(type) {
            var modal = document.getElementById('importModal');
            var modalTitle = document.getElementById('modalTitle');
            var modalContent = document.getElementById('modalContent');
            
            if (!modal || !modalTitle || !modalContent) return;
            
            var importerNames = {
                'mysql': 'üê¨ MySQL/MariaDB',
                'postgres': 'üêò PostgreSQL', 
                'sqlite': 'üì± SQLite',
                'mongodb': 'üçÉ MongoDB',
                'oracle': 'üèõÔ∏è Oracle Database',
                'mssql': 'ü™ü SQL Server'
            };
            
            modalTitle.textContent = '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: ' + (importerNames[type] || type);
            
            var configHTML = generateImporterConfig(type);
            modalContent.innerHTML = configHTML;
            
            modal.classList.remove('hidden');
        }
        
        function generateImporterConfig(type) {
            var commonFields = 
                '<div class="config-field">' +
                    '<label for="importFile">–§–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:</label>' +
                    '<input type="file" id="importFile" onchange="handleImportFile(this.files)">' +
                '</div>' +
                '<div class="config-field">' +
                    '<label for="importLevel">–£—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:</label>' +
                    '<select id="importLevel">' +
                        '<option value="0">L0 - –ë–∞–∑–æ–≤—ã–π</option>' +
                        '<option value="1">L1 - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π</option>' +
                        '<option value="2">L2 - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π</option>' +
                        '<option value="3">L3 - –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π</option>' +
                    '</select>' +
                '</div>';
            
            var specificFields = '';
            
            switch (type) {
                case 'mysql':
                    specificFields = 
                        '<div class="config-field">' +
                            '<label for="mysqlEncoding">–ö–æ–¥–∏—Ä–æ–≤–∫–∞:</label>' +
                            '<select id="mysqlEncoding">' +
                                '<option value="utf8">UTF-8</option>' +
                                '<option value="latin1">Latin1</option>' +
                                '<option value="cp1251">Windows-1251</option>' +
                            '</select>' +
                        '</div>' +
                        '<div class="config-field">' +
                            '<label for="mysqlTables">–¢–∞–±–ª–∏—Ü—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>' +
                            '<input type="text" id="mysqlTables" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü">' +
                        '</div>';
                    break;
                    
                case 'postgres':
                    specificFields = 
                        '<div class="config-field">' +
                            '<label for="pgSchema">–°—Ö–µ–º–∞:</label>' +
                            '<input type="text" id="pgSchema" value="public">' +
                        '</div>' +
                        '<div class="config-field">' +
                            '<label for="pgJsonSupport">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON/JSONB:</label>' +
                            '<input type="checkbox" id="pgJsonSupport" checked>' +
                        '</div>';
                    break;
                    
                case 'sqlite':
                    specificFields = 
                        '<div class="config-field">' +
                            '<label for="sqliteWAL">–†–µ–∂–∏–º WAL:</label>' +
                            '<input type="checkbox" id="sqliteWAL">' +
                        '</div>' +
                        '<div class="config-field">' +
                            '<label>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</label>' +
                            '<p class="text-sm text-gray-600">–î–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ SQLite —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ SQL.js</p>' +
                        '</div>';
                    break;
                    
                case 'mongodb':
                    specificFields = 
                        '<div class="config-field">' +
                            '<label for="mongoCollection">–ö–æ–ª–ª–µ–∫—Ü–∏—è:</label>' +
                            '<input type="text" id="mongoCollection" placeholder="–ò–º—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏">' +
                        '</div>' +
                        '<div class="config-field">' +
                            '<label for="mongoFormat">–§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞:</label>' +
                            '<select id="mongoFormat">' +
                                '<option value="json">JSON Lines</option>' +
                                '<option value="array">JSON Array</option>' +
                                '<option value="csv">CSV</option>' +
                            '</select>' +
                        '</div>';
                    break;
            }
            
            return commonFields + specificFields + 
                '<div class="flex justify-end space-x-4 mt-6">' +
                    '<button onclick="closeImportModal()" class="terra-button bg-gray-500 hover:bg-gray-600 focus:ring-gray-300">–û—Ç–º–µ–Ω–∞</button>' +
                    '<button onclick="startConfiguredImport(\'' + type + '\')" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">–ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç</button>' +
                '</div>';
        }
        
        function closeImportModal() {
            var modal = document.getElementById('importModal');
            if (modal) {
                modal.classList.add('hidden');
            }
        }
        
        function handleImportFile(files) {
            if (files && files[0]) {
                currentImportFile = files[0];
                console.log('–í—ã–±—Ä–∞–Ω —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:', currentImportFile.name);
            }
        }
        
        function startConfiguredImport(type) {
            if (!currentImportFile) {
                alert('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞');
                return;
            }
            
            var options = {
                level: parseInt(document.getElementById('importLevel').value) || 0
            };
            
            // –°–±–æ—Ä —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –æ–ø—Ü–∏–π
            switch (type) {
                case 'mysql':
                    options.encoding = document.getElementById('mysqlEncoding').value;
                    options.tables = document.getElementById('mysqlTables').value.split(',').map(function(t) { return t.trim(); }).filter(function(t) { return t; });
                    break;
                case 'postgres':
                    options.schema = document.getElementById('pgSchema').value;
                    options.jsonSupport = document.getElementById('pgJsonSupport').checked;
                    break;
                case 'mongodb':
                    options.collection = document.getElementById('mongoCollection').value;
                    options.format = document.getElementById('mongoFormat').value;
                    break;
            }
            
            closeImportModal();
            showImportProgress();
            
            importManager.startImport(type, currentImportFile, options)
                .then(function(result) {
                    hideImportProgress();
                    
                    alert('‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!\n\n' +
                          'üì¶ ID –∞—Ä—Ö–∏–≤–∞: ' + result.id + '\n' +
                          'üìä –ó–∞–ø–∏—Å–µ–π: ' + result.metadata.recordCount + '\n' +
                          'üíæ –†–∞–∑–º–µ—Ä: ' + importManager.formatFileSize(result.metadata.processedSize) + '\n' +
                          '‚≠ê –ö–∞—á–µ—Å—Ç–≤–æ: ' + Math.round(result.statistics.qualityScore) + '%');
                    
                    currentImportFile = null;
                })
                .catch(function(error) {
                    hideImportProgress();
                    alert('‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞:\n\n' + error.message);
                });
        }
        
        function handleQuickImportFile(files) {
            if (files && files[0]) {
                currentImportFile = files[0];
                
                // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
                var extension = files[0].name.split('.').pop().toLowerCase();
                var typeSelect = document.getElementById('quickImportType');
                
                if (typeSelect) {
                    if (['csv'].indexOf(extension) !== -1) {
                        typeSelect.value = 'csv';
                    } else if (['json'].indexOf(extension) !== -1) {
                        typeSelect.value = 'json';
                    } else if (['xml'].indexOf(extension) !== -1) {
                        typeSelect.value = 'xml';
                    } else if (['sql'].indexOf(extension) !== -1) {
                        typeSelect.value = 'sql';
                    } else if (['db', 'sqlite', 'sqlite3'].indexOf(extension) !== -1) {
                        typeSelect.value = 'sqlite';
                    }
                }
                
                console.log('–í—ã–±—Ä–∞–Ω —Ñ–∞–π–ª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞:', files[0].name);
            }
        }
        
        function startQuickImport() {
            var importType = document.getElementById('quickImportType').value;
            
            if (!importType) {
                alert('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö');
                return;
            }
            
            if (!currentImportFile) {
                alert('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞');
                return;
            }
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–µ—Ä–∞ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞
            var importerType = 'mysql'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
            
            if (importType === 'sqlite') {
                importerType = 'sqlite';
            } else if (importType === 'json') {
                importerType = 'mongodb'; // MongoDB –∏–º–ø–æ—Ä—Ç–µ—Ä –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å JSON
            }
            
            showImportProgress();
            
            var options = { level: 1 }; // –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
            
            importManager.startImport(importerType, currentImportFile, options)
                .then(function(result) {
                    hideImportProgress();
                    
                    alert('‚ö° –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!\n\n' +
                          'üì¶ ID –∞—Ä—Ö–∏–≤–∞: ' + result.id + '\n' +
                          'üìä –ó–∞–ø–∏—Å–µ–π: ' + result.metadata.recordCount + '\n' +
                          'üíæ –†–∞–∑–º–µ—Ä: ' + importManager.formatFileSize(result.metadata.processedSize));
                    
                    // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
                    document.getElementById('quickImportType').value = '';
                    document.getElementById('quickImportFile').value = '';
                    currentImportFile = null;
                })
                .catch(function(error) {
                    hideImportProgress();
                    alert('‚ùå –û—à–∏–±–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞:\n\n' + error.message);
                });
        }
        
        function showImportProgress() {
            var progress = document.getElementById('importProgress');
            var progressFill = document.getElementById('importProgressFill');
            var progressText = document.getElementById('importProgressText');
            
            if (progress) {
                progress.classList.remove('hidden');
                
                var currentProgress = 0;
                var phases = [
                    '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–º–ø–æ—Ä—Ç—É...',
                    '–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞...',
                    '–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö...',
                    '–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑...',
                    '–≠—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞...',
                    '–°–æ–∑–¥–∞–Ω–∏–µ Terra –∞—Ä—Ö–∏–≤–∞...',
                    '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...'
                ];
                
                var phaseIndex = 0;
                
                var progressInterval = setInterval(function() {
                    currentProgress += Math.random() * 15;
                    
                    if (currentProgress > 100) {
                        currentProgress = 100;
                        clearInterval(progressInterval);
                    }
                    
                    var newPhaseIndex = Math.floor((currentProgress / 100) * phases.length);
                    if (newPhaseIndex !== phaseIndex && newPhaseIndex < phases.length) {
                        phaseIndex = newPhaseIndex;
                        if (progressText) {
                            progressText.textContent = phases[phaseIndex];
                        }
                    }
                    
                    if (progressFill) {
                        progressFill.style.width = currentProgress + '%';
                    }
                }, 200);
                
                progress.progressInterval = progressInterval;
            }
        }
        
        function hideImportProgress() {
            var progress = document.getElementById('importProgress');
            
            if (progress) {
                if (progress.progressInterval) {
                    clearInterval(progress.progressInterval);
                }
                progress.classList.add('hidden');
            }
        }
        
        function previewImportData() {
            if (!currentImportFile) {
                alert('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞');
                return;
            }
            
            var reader = new FileReader();
            
            reader.onload = function(e) {
                var content = e.target.result;
                var preview = content.length > 1000 ? content.substring(0, 1000) + '...' : content;
                
                alert('üëÅÔ∏è –ü–†–ï–î–ü–†–û–°–ú–û–¢–† –§–ê–ô–õ–ê\n\n' +
                      '–§–∞–π–ª: ' + currentImportFile.name + '\n' +
                      '–†–∞–∑–º–µ—Ä: ' + importManager.formatFileSize(currentImportFile.size) + '\n' +
                      '–¢–∏–ø: ' + currentImportFile.type + '\n\n' +
                      '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (–ø–µ—Ä–≤—ã–µ 1000 —Å–∏–º–≤–æ–ª–æ–≤):\n' +
                      '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n' +
                      preview);
            };
            
            reader.readAsText(currentImportFile);
        }
        
        function validateImportData() {
            if (!currentImportFile) {
                alert('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏');
                return;
            }
            
            var validation = {
                fileSize: currentImportFile.size,
                fileName: currentImportFile.name,
                fileType: currentImportFile.type,
                extension: currentImportFile.name.split('.').pop().toLowerCase(),
                isValid: true,
                warnings: [],
                errors: []
            };
            
            // –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
            if (validation.fileSize > 100 * 1024 * 1024) { // 100MB
                validation.warnings.push('–§–∞–π–ª –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π (>100MB). –ò–º–ø–æ—Ä—Ç –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.');
            }
            
            if (validation.fileSize === 0) {
                validation.errors.push('–§–∞–π–ª –ø—É—Å—Ç');
                validation.isValid = false;
            }
            
            var supportedExtensions = ['csv', 'json', 'sql', 'xml', 'db', 'sqlite', 'sqlite3'];
            if (supportedExtensions.indexOf(validation.extension) === -1) {
                validation.warnings.push('–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è: ' + validation.extension);
            }
            
            var result = '‚úÖ –í–ê–õ–ò–î–ê–¶–ò–Ø –§–ê–ô–õ–ê\n\n' +
                        '–§–∞–π–ª: ' + validation.fileName + '\n' +
                        '–†–∞–∑–º–µ—Ä: ' + importManager.formatFileSize(validation.fileSize) + '\n' +
                        '–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ: ' + validation.extension + '\n' +
                        '–°—Ç–∞—Ç—É—Å: ' + (validation.isValid ? '‚úÖ –í–∞–ª–∏–¥–µ–Ω' : '‚ùå –ù–µ–≤–∞–ª–∏–¥–µ–Ω') + '\n\n';
            
            if (validation.errors.length > 0) {
                result += '‚ùå –û–®–ò–ë–ö–ò:\n';
                for (var i = 0; i < validation.errors.length; i++) {
                    result += '‚Ä¢ ' + validation.errors[i] + '\n';
                }
                result += '\n';
            }
            
            if (validation.warnings.length > 0) {
                result += '‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø:\n';
                for (var j = 0; j < validation.warnings.length; j++) {
                    result += '‚Ä¢ ' + validation.warnings[j] + '\n';
                }
            }
            
            alert(result);
        }
        
        function showImportSettings() {
            alert('‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ò–ú–ü–û–†–¢–ê\n\n–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...\n\n–ë—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:\n‚Ä¢ –õ–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏\n‚Ä¢ –§–∏–ª—å—Ç—Ä—ã –¥–∞–Ω–Ω—ã—Ö\n‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è\n‚Ä¢ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–º–ø–æ—Ä—Ç–∞');
        }
        
        function showImportHistory() {
            var modal = document.getElementById('importModal');
            var modalTitle = document.getElementById('modalTitle');
            var modalContent = document.getElementById('modalContent');
            
            if (!modal || !modalTitle || !modalContent) return;
            
            modalTitle.textContent = 'üìã –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞';
            
            var historyHTML = '<div class="space-y-4 max-h-96 overflow-y-auto">';
            
            if (importManager.importHistory.length === 0) {
                historyHTML += 
                    '<div class="text-center py-8 text-gray-500">' +
                        '<div class="text-4xl mb-4">üìã</div>' +
                        '<p>–ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞ –ø—É—Å—Ç–∞</p>' +
                    '</div>';
            } else {
                for (var i = 0; i < importManager.importHistory.length; i++) {
                    var item = importManager.importHistory[i];
                    var statusIcon = item.status === 'completed' ? '‚úÖ' : 
                                   item.status === 'error' ? '‚ùå' : 'üîÑ';
                    
                    historyHTML += 
                        '<div class="bg-gray-50 p-4 rounded-lg border">' +
                            '<div class="flex justify-between items-start">' +
                                '<div class="flex-1">' +
                                    '<h4 class="font-semibold text-gray-800">' + statusIcon + ' ' + item.fileName + '</h4>' +
                                    '<p class="text-sm text-gray-600">' + new Date(item.timestamp).toLocaleString() + '</p>' +
                                    '<div class="flex space-x-4 text-sm text-gray-700 mt-2">' +
                                        '<span>üìä ' + importManager.formatNumber(item.recordCount) + ' –∑–∞–ø–∏—Å–µ–π</span>' +
                                        '<span>üíæ ' + importManager.formatFileSize(item.size) + '</span>' +
                                        '<span>‚≠ê ' + Math.round(item.qualityScore) + '%</span>' +
                                    '</div>' +
                                '</div>' +
                                '<div class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">' + item.source + '</div>' +
                            '</div>' +
                        '</div>';
                }
            }
            
            historyHTML += '</div>';
            historyHTML += 
                '<div class="flex justify-end space-x-4 mt-6">' +
                    '<button onclick="exportImportHistory()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">üíæ –≠–∫—Å–ø–æ—Ä—Ç</button>' +
                    '<button onclick="closeImportModal()" class="terra-button bg-gray-500 hover:bg-gray-600 focus:ring-gray-300">–ó–∞–∫—Ä—ã—Ç—å</button>' +
                '</div>';
            
            modalContent.innerHTML = historyHTML;
            modal.classList.remove('hidden');
        }
        
        function clearImportHistory() {
            if (confirm('üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –∏–º–ø–æ—Ä—Ç–∞?\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                importManager.importHistory = [];
                importManager.saveImportHistory();
                importManager.updateStatistics();
                
                alert('‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞ –æ—á–∏—â–µ–Ω–∞');
            }
        }
        
        function exportImportHistory() {
            var exportData = {
                metadata: {
                    systemName: "Terra Database Importers v1.0",
                    author: "–ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á",
                    did: "aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890",
                    exportDate: new Date().toISOString(),
                    type: "import_history"
                },
                statistics: importManager.statistics,
                history: importManager.importHistory
            };
            
            var dataStr = JSON.stringify(exportData, null, 2);
            var dataBlob = new Blob([dataStr], {type: 'application/json'});
            var url = URL.createObjectURL(dataBlob);
            
            var link = document.createElement('a');
            link.href = url;
            link.download = 'terra_import_history_' + new Date().toISOString().slice(0, 10) + '.json';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
            
            alert('‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞!\n\n' +
                  '–ó–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏–∏: ' + importManager.importHistory.length);
        }
        
        function runCompatibilityCheck() {
            var capabilities = {
                fileAPI: !!(window.File && window.FileReader && window.FileList && window.Blob),
                localStorage: !!window.localStorage,
                jsonSupport: !!(window.JSON && JSON.parse && JSON.stringify),
                promiseSupport: !!window.Promise,
                es6Support: !!(Array.from && Object.assign),
                browserFamily: getBrowserFamily()
            };
            
            var report = 'üîç –ü–†–û–í–ï–†–ö–ê –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–ò –ò–ú–ü–û–†–¢–ï–†–û–í\n\n';
            
            report += 'üåê –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –ë–†–ê–£–ó–ï–†–ê:\n';
            report += 'File API: ' + (capabilities.fileAPI ? '‚úÖ' : '‚ùå') + '\n';
            report += 'LocalStorage: ' + (capabilities.localStorage ? '‚úÖ' : '‚ùå') + '\n';
            report += 'JSON Support: ' + (capabilities.jsonSupport ? '‚úÖ' : '‚ùå') + '\n';
            report += 'Promise Support: ' + (capabilities.promiseSupport ? '‚úÖ' : '‚ùå') + '\n';
            report += 'ES6 Support: ' + (capabilities.es6Support ? '‚úÖ' : '‚ùå') + '\n';
            report += '–ë—Ä–∞—É–∑–µ—Ä: ' + capabilities.browserFamily + '\n\n';
            
            report += 'üîÑ –°–¢–ê–¢–£–° –ò–ú–ü–û–†–¢–ï–†–û–í:\n';
            report += 'MySQL/MariaDB: ' + (capabilities.fileAPI && capabilities.jsonSupport ? '‚úÖ –ì–æ—Ç–æ–≤' : '‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω') + '\n';
            report += 'PostgreSQL: ' + (capabilities.fileAPI && capabilities.es6Support ? '‚úÖ –ì–æ—Ç–æ–≤' : '‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω') + '\n';
            report += 'SQLite: ' + (capabilities.fileAPI ? '‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç SQL.js' : '‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω') + '\n';
            report += 'MongoDB: ' + (capabilities.fileAPI && capabilities.jsonSupport ? '‚úÖ –ì–æ—Ç–æ–≤' : '‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω') + '\n';
            
            report += '\nüìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\n';
            report += '–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤: ' + importManager.activeImports + '\n';
            report += '–ó–∞–≤–µ—Ä—à–µ–Ω–æ –∏–º–ø–æ—Ä—Ç–æ–≤: ' + importManager.statistics.completedImports + '\n';
            report += '–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: ' + importManager.formatNumber(importManager.statistics.totalRecords) + '\n';
            report += '–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ' + importManager.formatFileSize(importManager.statistics.totalSize) + '\n';
            
            alert(report);
        }
        
        function getBrowserFamily() {
            var ua = navigator.userAgent;
            
            if (ua.indexOf('Firefox') !== -1) return 'Firefox';
            if (ua.indexOf('Chrome') !== -1) return 'Chrome';
            if (ua.indexOf('Safari') !== -1) return 'Safari';
            if (ua.indexOf('Edge') !== -1) return 'Edge';
            if (ua.indexOf('MSIE') !== -1) return 'IE';
            
            return 'Unknown';
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', function() {
            initializeImportManager();
        });
        
        console.log("üîÑ Terra Database Importers JavaScript –º–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω!");
    </script>
    
    <!-- QR-–º–µ—Ç–∫–∞ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞ -->
    <div style="position: fixed; bottom: 10px; right: 10px; background: white; padding: 5px; border-radius: 5px; font-size: 8px; opacity: 0.7;">
        <div>QR-–º–µ—Ç–∫–∞ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞: "–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —á–µ–ª–æ–≤–µ–∫–∞ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –≤–æ –±–ª–∞–≥–æ –±—É–¥—É—â–µ–≥–æ –ø–ª–∞–Ω–µ—Ç—ã –∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞"</div>
    </div>
</body>
</html>